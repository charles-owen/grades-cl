"use strict";(self.webpackChunkcse335=self.webpackChunkcse335||[]).push([[249],{53398:(t,e,n)=>{var r=n(34802),i={class:"content cl-grader"},a={class:"full"},l=(0,r._)("h2",null,"Grades Summary",-1),o={key:0},s=["href"],c={key:1},d=["href"],u={key:0},m=[(0,r._)("em",null,"Pending...",-1)];var g=Site.Member;const f={extends:Site.ConsoleComponentBase,data:function(){return{section:null,gradingLink:this.$site.root+"/cl/console/grading/",ta:g.TA,downloadPermission:!1,rubricDumperPermission:!1}},computed:{},created:function(){this.$root.setTitle(": Assignment Grading");var t=this.$store.state.user.user,e=t.member;this.downloadPermission=t.atLeast(this.$site.permissions.atLeast("grades-download",g.TA)),this.rubricDumperPermission=t.atLeast(this.$site.permissions.atLeast("grades-rubric-dumper",g.TA)),this.section=this.$store.getters["course/section"](e.semester,e.section)},methods:{}};var v=n(17944);const h=(0,v.Z)(f,[["render",function(t,e,n,g,f,v){var h=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",a,[l,(0,r._)("ul",null,[(0,r._)("li",null,[(0,r.Wm)(h,{to:t.root+"/cl/console/grades/all"},{default:(0,r.w5)((function(){return[(0,r.Uk)("All Students")]})),_:1},8,["to"])]),(0,r._)("li",null,[(0,r.Wm)(h,{to:t.root+"/cl/console/grades/links"},{default:(0,r.w5)((function(){return[(0,r.Uk)("All Students Grade Links")]})),_:1},8,["to"])]),t.downloadPermission?((0,r.wg)(),(0,r.iD)("li",o,[(0,r._)("a",{href:t.root+"/cl/grades/csv"},"Download Student Grades",8,s)])):(0,r.kq)("v-if",!0),t.rubricDumperPermission?((0,r.wg)(),(0,r.iD)("li",c,[(0,r._)("a",{href:t.root+"/cl/grades/rubric-dumper"},"Rubric Dumper",8,d)])):(0,r.kq)("v-if",!0)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.section.assignments.categories,(function(e){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("h2",null,(0,r.zw)(e.name),1),(0,r._)("ul",null,[0===e.assignments.length?((0,r.wg)(),(0,r.iD)("li",u,m)):(0,r.kq)("v-if",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.assignments,(function(e){return(0,r.wg)(),(0,r.iD)("li",{key:e.tag},[(0,r.Wm)(h,{to:t.gradingLink+e.tag},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.name),1)]})),_:2},1032,["to"]),t.user.atLeast(t.ta)?((0,r.wg)(),(0,r.j4)(h,{key:0,class:"link-button",to:t.root+"/cl/console/rubric/"+e.tag},{default:(0,r.w5)((function(){return[(0,r.Uk)("rubrics")]})),_:2},1032,["to"])):(0,r.kq)("v-if",!0)])})),128))])])})),256))])])}]]);var p={class:"content cl-grades"},b={class:"full"},y={key:0,class:"small"},w={class:"vertical"},k=(0,r._)("th",null,"User",-1),_=(0,r._)("th",null,"Name",-1),D=(0,r._)("th",null,"Role",-1),A={class:"small"},x={key:0,class:"small"},C=[(0,r._)("div",null,"Grade",-1)],S={class:"role"},z={class:"right"},I={key:0,class:"right"},$={class:"divider"},T=(0,r._)("td",{colspan:"2",class:"center"},[(0,r._)("em",null,"counts")],-1),U={class:"center"},M={class:"right"},Z={key:0,class:"right"},L=(0,r._)("td",{colspan:"2",class:"center"},[(0,r._)("em",null,"averages")],-1),H=(0,r._)("td",{class:"center"},"Â ",-1),G={class:"right"},Y={key:0,class:"right"};var E={class:"cl-bulk-upload"},j=(0,r._)("h2",{id:"bulk"},"Bulk grade uploading",-1),N=(0,r._)("p",null,"This option accepts files in CSV format as produced by CrowdMark and other systems. ",-1),R=(0,r._)("legend",null,"Bulk Upload File",-1),B=(0,r._)("div",null,"File to upload: ",-1),O=(0,r._)("p",null,[(0,r._)("input",{type:"submit",value:"Press"}),(0,r.Uk)(" to upload the file!")],-1);var V=function(t){return(0,r.dD)("data-v-573d0ec7"),t=t(),(0,r.Cn)(),t},W={id:"cl-column-chooser-component"},K={key:0},P=V((function(){return(0,r._)("label",{for:"cl-load-by-member"},"Load by member",-1)})),F={key:1},q=V((function(){return(0,r._)("p",null,"Member identifier can be an email address or user ID.",-1)})),J={key:2},X=V((function(){return(0,r._)("label",{for:"cl-load-by-team"},"Load by team",-1)})),Q={key:3},tt=V((function(){return(0,r._)("p",null,"Team identifiers are the team names.",-1)})),et=V((function(){return(0,r._)("p",{class:"center"},"Select column for each grade item",-1)})),nt={class:"cl-parts"},rt=["onUpdate:modelValue"],it=V((function(){return(0,r._)("div",{class:"cl-comment"},"comment:",-1)})),at=["onUpdate:modelValue"];function lt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const st={props:["parts","columns"],data:function(){return{memberIdColumn:{},teamIdColumn:{},columnSelect:[],mapping:{},commentMapping:{},hasTeaming:!1,loadBy:"member"}},methods:{onLoadByChange:function(){if("team"===this.loadBy){var t,e=lt(this.parts);try{for(e.s();!(t=e.n()).done;){var n=t.value;void 0!==n.teaming&&n.teaming!==this.teamIdColumn.teaming&&(this.$site.toast(this,"All teamings must the same for grade upload"),this.loadBy="member")}}catch(t){e.e(t)}finally{e.f()}}this.memberIdColumn.active="member"===this.loadBy,this.teamIdColumn.active="team"===this.loadBy}},mounted:function(){this.hasTeaming=!1,this.loadBy="member",this.teamIdColumn=this.$parent.teamColumn,this.teamIdColumn.active=!1;var t,e=lt(this.parts);try{for(e.s();!(t=e.n()).done;){var n=t.value;void 0!==n.teaming&&(this.hasTeaming=!0,this.teamIdColumn.teaming=n.teaming)}}catch(t){e.e(t)}finally{e.f()}this.memberIdColumn=this.$parent.idColumn,this.memberIdColumn.id=this.columns[0],this.memberIdColumn.active=!0;var r,i=lt(this.columns);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.toLowerCase().indexOf("email")>=0){this.memberIdColumn.id=a;break}}}catch(t){i.e(t)}finally{i.f()}if(this.hasTeaming){this.teamIdColumn.id=this.columns[0];var l,o=lt(this.columns);try{for(o.s();!(l=o.n()).done;){var s=l.value;if(s.toLowerCase().indexOf("team")>=0){this.teamIdColumn.id=s;break}}}catch(t){o.e(t)}finally{o.f()}}this.columnSelect=["*none*"].concat(this.columns),this.mapping=this.$parent.mapping,this.commentMapping=this.$parent.commentMapping;var c,d=lt(this.parts);try{for(d.s();!(c=d.n()).done;){var u=c.value;this.mapping[u.tag]="*none*",this.commentMapping[u.tag]="*none*"}}catch(t){d.e(t)}finally{d.f()}}};var ct=n(43546),dt=n.n(ct),ut=n(19104),mt=n.n(ut),gt=n(85797),ft=n.n(gt),vt=n(74706),ht=n.n(vt),pt=n(10807),bt=n.n(pt),yt=n(37002),wt=n.n(yt),kt=n(53931),_t={};_t.styleTagTransform=wt(),_t.setAttributes=ht(),_t.insert=ft().bind(null,"head"),_t.domAPI=mt(),_t.insertStyleElement=bt();dt()(kt.Z,_t);kt.Z&&kt.Z.locals&&kt.Z.locals;const Dt=(0,v.Z)(st,[["render",function(t,e,n,i,a,l){return(0,r.wg)(),(0,r.iD)("div",W,[t.hasTeaming?((0,r.wg)(),(0,r.iD)("p",K,[(0,r.wy)((0,r._)("input",{type:"radio",onChange:e[0]||(e[0]=function(t){return l.onLoadByChange()}),id:"cl-load-by-member","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.loadBy=e}),value:"member",checked:""},null,544),[[r.G2,t.loadBy]]),P])):(0,r.kq)("v-if",!0),"member"===t.loadBy?((0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("p",null,[(0,r.Uk)("Member identifier column: "),(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.memberIdColumn.id=e})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.columns,(function(t){return(0,r.wg)(),(0,r.iD)("option",null,(0,r.zw)(t),1)})),256))],512),[[r.bM,t.memberIdColumn.id]])]),q])):(0,r.kq)("v-if",!0),t.hasTeaming?((0,r.wg)(),(0,r.iD)("p",J,[(0,r.wy)((0,r._)("input",{type:"radio",onChange:e[3]||(e[3]=function(t){return l.onLoadByChange()}),id:"cl-load-by-team","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.loadBy=e}),value:"team"},null,544),[[r.G2,t.loadBy]]),X])):(0,r.kq)("v-if",!0),"team"===t.loadBy?((0,r.wg)(),(0,r.iD)("div",Q,[(0,r._)("p",null,[(0,r.Uk)("Team identifier column: "),(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.teamIdColumn.id=e})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.columns,(function(t){return(0,r.wg)(),(0,r.iD)("option",null,(0,r.zw)(t),1)})),256))],512),[[r.bM,t.teamIdColumn.id]])]),tt])):(0,r.kq)("v-if",!0),et,(0,r._)("div",nt,["member"===t.loadBy||void 0!==t.part.teaming?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(n.parts,(function(e,n){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[(0,r._)("div",null,(0,r.zw)(e.name)+":",1),(0,r._)("div",null,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":function(n){return t.mapping[e.tag]=n}},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.columnSelect,(function(t){return(0,r.wg)(),(0,r.iD)("option",null,(0,r.zw)(t),1)})),256))],8,rt),[[r.bM,t.mapping[e.tag]]])])]),(0,r._)("div",null,[it,(0,r._)("div",null,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":function(n){return t.commentMapping[e.tag]=n}},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.columnSelect,(function(t){return(0,r.wg)(),(0,r.iD)("option",null,(0,r.zw)(t),1)})),256))],8,at),[[r.bM,t.commentMapping[e.tag]]])])])],64)})),256)):(0,r.kq)("v-if",!0)])])}],["__scopeId","data-v-573d0ec7"]]);function At(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ct=Site.VueHelper;const St={props:["assigntag","parts"],data:function(){return{bulkFiles:null}},methods:{bulkUpload:function(){var t=this,e=this.$site;if(!(null===this.bulkFiles||this.bulkFiles.length<1)){var n=this.bulkFiles[0],r=new FileReader;r.onload=function(n){var r=t.$store.state.user.user.member,i={file:n.target.result,semester:r.semester,section:r.section,mapping:"",commentMapping:""},a=n.target.result.match(/^.*$/m);if(null!==a){var l=a[0].split(","),o=t.parts,s={},c={},d={active:!0},u={active:!1};new e.Dialog({title:"Column Selection",content:'<div id="cl-column-chooser"></div>',addClass:"cl-column-chooser-dlg",buttons:[{contents:"Upload",focus:!0,click:function(n){n.close();var r,a=!1,l=At(o);try{for(l.s();!(r=l.n()).done;){var m=r.value;if("*none*"!==s[m.tag]){a=!0;break}}}catch(t){l.e(t)}finally{l.f()}a?(i.mapping=JSON.stringify(s),i.commentMapping=JSON.stringify(c),d.active?i.idcolumn=d.id:u.active&&(i.teamcolumn=u.id,i.teaming=u.teaming),e.api.post("/api/grade/bulk/upload/"+t.assigntag,i).then((function(n){if(n.hasError())console.log(n),e.toast(t,n);else{var r=n.getData("results");e.toast(t,r.attributes.grades+" grades successfully uploaded for "+r.attributes.users+" users"),setTimeout((function(){window.history.go()}),1e3)}})).catch((function(n){console.log(n),e.toast(t,n)}))):e.toast(t,"No columns selected to upload")}},{contents:"Cancel",focus:!0,click:function(t){t.close()}}]});var m=Ct.createApp({data:function(){return{parts:o,columns:l,mapping:s,commentMapping:c,idColumn:d,teamColumn:u}},template:'<chooser :parts="parts" :columns="columns"></chooser>',components:{chooser:Dt}});m.config.globalProperties.$site=t.$site,m.mount("#cl-column-chooser")}else new e.Dialog.MessageBox("Invalid File","File does not contain grade data.",e.Dialog.MessageBox.OK,(function(){}))},r.onerror=function(t){e.toast(this,"Error reading file")},r.onabort=function(t){e.toast(this,"File read aborted")},r.readAsText(n)}}}};var zt=n(70618),It={};It.styleTagTransform=wt(),It.setAttributes=ht(),It.insert=ft().bind(null,"head"),It.domAPI=mt(),It.insertStyleElement=bt();dt()(zt.Z,It);zt.Z&&zt.Z.locals&&zt.Z.locals;const $t=(0,v.Z)(St,[["render",function(t,e,n,i,a,l){return(0,r.wg)(),(0,r.iD)("div",E,[j,N,(0,r._)("form",{class:"full",onSubmit:e[1]||(e[1]=(0,r.iM)((function(t){return l.bulkUpload()}),["prevent"])),method:"post",enctype:"multipart/form-data"},[(0,r._)("fieldset",null,[R,(0,r._)("div",null,[B,(0,r._)("div",null,[(0,r._)("p",null,[(0,r._)("input",{name:"bulkfile",type:"file",onChange:e[0]||(e[0]=function(e){return t.bulkFiles=e.target.files})},null,32)]),O])])])],32)])}]]);function Tt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mt=Site.SubmissionsLinksVue,Zt=Site.MembersFetcherComponentVue,Lt=Site.ConsoleComponentBase,Ht=Site.Member;const Gt={extends:Lt,props:["assigntag"],data:function(){return{link:"/cl/console/grading/"+this.assigntag+"/",grades:null,parts:[],fetched:!1,assignment:null,ta:!1}},components:{membersFetcher:Zt,submissionsLinks:Mt,"bulk-upload":$t},mounted:function(){var t=this,e=this.$store.state.user.user.member;e.semester,e.section;this.ta=this.user.atLeast(Ht.TA),this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.$root.setTitle(": "+this.assignment.shortname+" Grading"),this.$site.api.get("/api/grade/grades/"+this.assigntag,{}).then((function(e){e.hasError()?t.$site.toast(t,e):(t.grades=e.getData("grades").attributes,t.parts=e.getData("grade-parts").attributes)})).catch((function(e){t.$site.toast(t,e)}))},methods:{partGrade:function(t,e){var n=this.grades[t.member.id];if(void 0===n)return"";var r=n.grades[e.tag];return void 0===r?"":r},grade:function(t){var e=this.grades[t.member.id];return void 0===e?"":null!==e.grade?e.grade:""},partCount:function(t,e){var n,r=0,i=Tt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;""!==this.partGrade(a,e)&&r++}}catch(t){i.e(t)}finally{i.f()}return r},gradesCount:function(t){var e,n=0,r=Tt(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;""!==this.grade(i)&&n++}}catch(t){r.e(t)}finally{r.f()}return n},partAverage:function(t,e){var n,r=0,i=0,a=Tt(t);try{for(a.s();!(n=a.n()).done;){var l=n.value,o=this.partGrade(l,e);""!==o&&(r++,i+=o)}}catch(t){a.e(t)}finally{a.f()}return 0===r?"":Math.round(i/r*10)/10},gradeAverage:function(t){var e,n=0,r=0,i=Tt(t);try{for(i.s();!(e=i.n()).done;){var a=e.value,l=this.grade(a);""!==l&&(n++,r+=l)}}catch(t){i.e(t)}finally{i.f()}return 0===n?"":Math.round(r/n*10)/10}}},Yt=(0,v.Z)(Gt,[["render",function(t,e,n,i,a,l){var o=(0,r.up)("submissions-links"),s=(0,r.up)("router-link"),c=(0,r.up)("members-fetcher"),d=(0,r.up)("bulk-upload");return(0,r.wg)(),(0,r.iD)("div",p,[(0,r._)("div",b,[(0,r.Wm)(o,{assignment:t.assignment},null,8,["assignment"]),(0,r.Wm)(c,null,{default:(0,r.w5)((function(e){return[null!==t.grades?((0,r.wg)(),(0,r.iD)("table",y,[(0,r._)("tr",w,[k,_,D,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.parts,(function(t){return(0,r.wg)(),(0,r.iD)("th",A,[(0,r._)("div",null,(0,r.zw)(t.name),1)])})),256)),null!==t.grades?((0,r.wg)(),(0,r.iD)("th",x,C)):(0,r.kq)("v-if",!0)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.users,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{class:(0,r.C_)("T"!==e.role()?"ignore":"")},[(0,r._)("td",null,[(0,r.Wm)(s,{to:t.root+t.link+e.member.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.userId),1)]})),_:2},1032,["to"])]),(0,r._)("td",null,[(0,r.Wm)(s,{to:t.root+t.link+e.member.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.name),1)]})),_:2},1032,["to"])]),(0,r._)("td",S,(0,r.zw)(e.roleName()),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.parts,(function(t){return(0,r.wg)(),(0,r.iD)("td",z,(0,r.zw)(l.partGrade(e,t)),1)})),256)),null!==t.grades?((0,r.wg)(),(0,r.iD)("td",I,(0,r.zw)(l.grade(e)),1)):(0,r.kq)("v-if",!0)],2)})),256)),(0,r._)("tr",$,[T,(0,r._)("td",U,(0,r.zw)(e.users.length),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.parts,(function(t){return(0,r.wg)(),(0,r.iD)("td",M,(0,r.zw)(l.partCount(e.users,t)),1)})),256)),null!==t.grades?((0,r.wg)(),(0,r.iD)("td",Z,(0,r.zw)(l.gradesCount(e.users)),1)):(0,r.kq)("v-if",!0)]),(0,r._)("tr",null,[L,H,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.parts,(function(t){return(0,r.wg)(),(0,r.iD)("td",G,(0,r.zw)(l.partAverage(e.users,t)),1)})),256)),null!==t.grades?((0,r.wg)(),(0,r.iD)("td",Y,(0,r.zw)(l.gradeAverage(e.users)),1)):(0,r.kq)("v-if",!0)])])):(0,r.kq)("v-if",!0)]})),_:1}),t.parts.length>0&&t.ta?((0,r.wg)(),(0,r.j4)(d,{key:0,assigntag:n.assigntag,parts:t.parts},null,8,["assigntag","parts"])):(0,r.kq)("v-if",!0)])])}]]);var Et={class:"content cl-grader"},jt={class:"full"},Nt={key:0},Rt={class:"small"},Bt=["onClick"],Ot=["onClick"],Vt={key:0,class:"cl-due"},Wt=["data-tag"],Kt={class:"cl-grader-item-lock"},Pt=["onClick"],Ft=["src"],qt=["onClick"],Jt={key:0,class:"cl-toggle"},Xt=(0,r._)("p",{class:"cl-rubric-expand"},[(0,r._)("a",null,"Expand for rubric")],-1),Qt={class:"cl-rubricblock cl-clickable"},te=["innerHTML"],ee=["innerHTML"],ne={class:"grade"},re={key:0},ie=(0,r._)("p",null,"Grade Not Available",-1),ae=(0,r._)("p",{class:"center small notice"},"Grades are not available until all parts of the assignment have been graded.",-1);var le=n(33189),oe=n(76225),se={class:"cl-grade"},ce={class:"comment"},de=["name"],ue={class:"points"},me=["id","name"],ge={class:"points"},fe=(0,r._)("div",{class:"label"},"Available",-1),ve={class:"value"},he=["data-id"];function pe(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const ye={props:["item"],mounted:function(){this.item.manual.comment=this.deentitize(this.item.manual.comment)},watch:{item:function(t,e){this.item.manual.comment=this.deentitize(this.item.manual.comment)}},methods:{fillInPoints:function(){this.item.manual.points=this.item.manual.available},compute:function(){var t,e=0,n=0,r=pe(this.item.manual.comment.split(/\r?\n/));try{for(r.s();!(t=r.n()).done;){var i=t.value.match(/^\s*([+-]?)([1-9][0-9]*)([^0-9]|$)/);null!==i&&("-"===i[1]?n-=+i[2]:e+=+i[2])}}catch(t){r.e(t)}finally{r.f()}this.item.manual.points=0!==n?0===e?this.item.manual.available+n:e+n:0===e?this.item.manual.available:e},deentitize:function(t){return t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}}},we=(0,v.Z)(ye,[["render",function(t,e,n,i,a,l){return(0,r.wg)(),(0,r.iD)("div",se,[(0,r._)("div",ce,[(0,r._)("label",null,[(0,r.Uk)("Comment "),(0,r._)("a",{onClick:e[0]||(e[0]=(0,r.iM)((function(t){return l.compute()}),["prevent"]))},"compute"),(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.item.manual.comment=t}),rows:"6",class:"comment",name:n.item.tag+"-comment"},null,8,de),[[r.nr,n.item.manual.comment]])])]),(0,r._)("div",ue,[(0,r._)("label",null,[(0,r.Uk)("Points "),(0,r.wy)((0,r._)("input",{class:"points","onUpdate:modelValue":e[2]||(e[2]=function(t){return n.item.manual.points=t}),type:"number",id:n.item.tag+"-points",name:n.item.tag+"-points"},null,8,me),[[r.nr,n.item.manual.points]])])]),(0,r._)("div",ge,[fe,(0,r._)("div",ve,[(0,r._)("a",{onClick:e[3]||(e[3]=(0,r.iM)((function(t){return l.fillInPoints()}),["prevent"])),"data-id":n.item.tag+"-points",title:"Click to fill in points"},(0,r.zw)(n.item.manual.available),9,he)])])])}]]);function ke(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var De=Site.ConsoleComponentBase,Ae=Site.PrevNextMemberVue,xe=Site.MemberFetcherComponentVue,Ce=Site.SubmissionsAssignmentMemberComponentVue;const Se={extends:De,props:["assigntag","memberid"],data:function(){return{gradingLink:"/cl/console/grading/"+this.assigntag,assignment:null,graders:[],grade:null,due:null,handbookResult:null,reviewing:null}},components:{memberFetcher:xe,prevNext:Ae,gradeHistory:le.Z,submissions:Ce,handbook:oe.Z,gradeManual:we},mounted:function(){var t=this;this.setTitle(": Grading"),this.addNav2("Submit",2,(function(){t.submit()})),this.addNav2("Submit and Exit",3,(function(){t.submit(!0)})),this.addNav2Link("Exit",4,"/cl/console/grading/"+this.assigntag)},methods:{fetched:function(t){var e=this;t.member.getSection(this.$store);this.assignment=t.member.getAssignment(this.$store,this.assigntag),this.setTitle(": "+t.name+" "+this.assignment.shortname+" Grading"),!0===this.assignment.review&&(this.reviewing=this.$root.console.Review.reviewsbyfor),this.$site.api.get("/api/grade/grader/".concat(this.assigntag,"/").concat(this.memberid),{}).then((function(t){t.hasError()?e.$site.toast(e,t):e.take(t)})).catch((function(t){e.$site.toast(e,t)}))},submit:function(t,e){var n=this,r=this.$refs.form,i=new FormData(r);null!==this.handbookResult&&i.append("_handbook",JSON.stringify(this.handbookResult)),this.$site.api.post("/api/grade/grader/".concat(this.assigntag,"/").concat(this.memberid),i).then((function(r){r.hasError()?n.$site.toast(n,r):(n.take(r),t&&n.$router.push(n.$site.root+"/cl/console/grading/"+n.assigntag),void 0!==e&&e())})).catch((function(t){n.$site.toast(n,t)}))},teamDistribute:function(t){var e=this;this.submit(!1,(function(){var n={teaming:t.teaming,gradeTag:t.tag};e.$site.api.post("/api/team/distribute/".concat(e.assigntag,"/").concat(e.memberid),n).then((function(t){t.hasError()&&e.$site.toast(e,t)})).catch((function(t){e.$site.toast(e,t)}))}))},take:function(t){for(var e=this,n=null,r=0;r<this.graders.length;r++)if(this.graders[r].locked){n=r;break}var i=t.getData("grader");this.due=void 0!==i.attributes.due?i.attributes.due:null;var a,l=ke(i.attributes.graders);try{for(l.s();!(a=l.n()).done;){a.value.locked=!1}}catch(t){l.e(t)}finally{l.f()}this.graders=i.attributes.graders,this.grade=i.attributes.grade,null!==n&&(this.graders[n].locked=!0),this.$forceUpdate(),this.$nextTick((function(){e.installRubricClickers(),e.$site.message("cl-grades-grader-installed")}))},lock:function(t){if(t.locked)t.locked=!1;else{var e,n=ke(this.graders);try{for(n.s();!(e=n.n()).done;){e.value.locked=!1}}catch(t){n.e(t)}finally{n.f()}t.locked=!0}},installRubricClickers:function(){for(var t=this,e=0,n=["div.cl-clickable li.item","div.cl-clickable ul.items li","div.cl-clickable p.item"];e<n.length;e++){var r,i=n[e],a=ke(document.querySelectorAll(i));try{var l=function(){var e=r.value;void 0===e.dataset.clickable&&(e.addEventListener("click",(function(){t.addContent(e)})),e.setAttribute("data-clickable","yes"))};for(a.s();!(r=a.n()).done;)l()}catch(t){a.e(t)}finally{a.f()}}},addContent:function(t){var e=t.textContent;for(t=t.parentNode;null!==t&&!t.classList.contains("cl-grader-item");)t=t.parentNode;if(null!==t){var n,r=t.dataset.tag,i=ke(this.graders);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.tag===r){void 0!==a.manual&&(a.manual.comment.length>0&&null===a.manual.comment.match(/\n$/)&&(a.manual.comment+="\n"),a.manual.comment+=e);break}}}catch(t){i.e(t)}finally{i.f()}var l,o=ke(t.querySelectorAll("textarea"));try{for(o.s();!(l=o.n()).done;){var s=l.value;s.value=s.value+e+"\n"}}catch(t){o.e(t)}finally{o.f()}}},time:function(t){return this.$site.TimeFormatter.absoluteUNIX(t,"short")},email:function(t){window.location="mailto:"+t.email},handbookData:function(t){this.handbookResult=t},toRaw:function(t){return(0,r.IU)(t)}}},ze=(0,v.Z)(Se,[["render",function(t,e,n,i,a,l){var o=(0,r.up)("prev-next"),s=(0,r.up)("grade-manual"),c=(0,r.up)("handbook"),d=(0,r.up)("grade-history"),u=(0,r.up)("submissions"),m=(0,r.up)("member-fetcher");return(0,r.wg)(),(0,r.iD)("div",Et,[(0,r._)("div",jt,[(0,r.Wm)(m,{onFetched:l.fetched,id:n.memberid,faillink:t.gradingLink},{default:(0,r.w5)((function(i){return[(0,r.Wm)(o,{user:i.user},null,8,["user"]),null!==i.user?((0,r.wg)(),(0,r.iD)("div",Nt,[(0,r._)("form",{ref:"form",method:"post",onSubmit:e[0]||(e[0]=(0,r.iM)((function(){return l.submit&&l.submit.apply(l,arguments)}),["prevent"]))},[(0,r._)("p",{class:(0,r.C_)("T"===i.user.role()?"cl-role":"cl-role cl-role-staff")},[(0,r.Uk)((0,r.zw)(i.user.roleName())+": "+(0,r.zw)(i.user.name)+" ",1),(0,r._)("em",Rt,(0,r.zw)(i.user.userId),1),(0,r.Uk)("Â  "),(0,r._)("button",{class:"cl-grader-button",onClick:(0,r.iM)((function(t){return l.email(i.user)}),["prevent"])}," email "+(0,r.zw)(i.user.roleName().toLowerCase()),9,Bt),(0,r.Uk)("Â  "),(0,r._)("button",{class:"cl-grader-button",onClick:(0,r.iM)((function(e){return t.$router.push(t.root+"/cl/console/grades/"+i.user.member.id)}),["prevent"])}," student grades ",8,Ot)],2),null!==t.due?((0,r.wg)(),(0,r.iD)("p",Vt,"Assignment due "+(0,r.zw)(l.time(t.due)),1)):(0,r.kq)("v-if",!0),(0,r.kq)(" Grading items "),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.graders,(function(e){return(0,r.wg)(),(0,r.iD)("div",{class:(0,r.C_)("cl-grader-item"+(e.locked?" cl-grader-item-locked":"")),"data-tag":e.tag},[(0,r._)("h2",null,[(0,r._)("span",Kt,[(0,r._)("a",{onClick:(0,r.iM)((function(t){return l.lock(e)}),["prevent"]),title:"Lock/Unlock"},[(0,r._)("img",{src:t.root+(e.locked?"/cl/img/lock-on.png":"/cl/img/lock-off.png"),alt:"Unlocked"},null,8,Ft)],8,Pt)]),(0,r.Uk)(" "+(0,r.zw)(e.name),1),void 0!==e.teaming?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"cl-extra-link",onClick:(0,r.iM)((function(t){return l.teamDistribute(e)}),["prevent"])},"Team Distribute",8,qt)):(0,r.kq)("v-if",!0)]),void 0!==e.rubric?((0,r.wg)(),(0,r.iD)("div",Jt,[Xt,(0,r._)("div",Qt,[(0,r._)("div",{innerHTML:e.rubric},null,8,te)])])):(0,r.kq)("v-if",!0),void 0!==e.manual?((0,r.wg)(),(0,r.j4)(s,{key:1,item:e},null,8,["item"])):(0,r.kq)("v-if",!0),void 0!==e.html?((0,r.wg)(),(0,r.iD)("div",{key:2,innerHTML:e.html},null,8,ee)):(0,r.kq)("v-if",!0),void 0!==e.handbook?((0,r.wg)(),(0,r.j4)(c,{key:3,item:e,onHandbookData:l.handbookData},null,8,["item","onHandbookData"])):(0,r.kq)("v-if",!0),(0,r.Wm)(d,{history:e.history},null,8,["history"])],10,Wt)})),256)),(0,r.kq)(" Submissions "),(0,r.Wm)(u,{user:i.user,assigntag:n.assigntag},null,8,["user","assigntag"]),null!==t.reviewing?((0,r.wg)(),(0,r.j4)((0,r.LL)(l.toRaw(t.reviewing)),{key:1,assigntag:n.assigntag,user:i.user},null,8,["assigntag","user"])):(0,r.kq)("v-if",!0),(0,r._)("div",ne,[null!==t.grade?((0,r.wg)(),(0,r.iD)("p",re,"Computed Grade: "+(0,r.zw)(t.grade),1)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[ie,ae],64))])],544)])):(0,r.kq)("v-if",!0)]})),_:1},8,["onFetched","id","faillink"])])])}]]);var Ie={class:"content"},$e={class:"full"},Te={class:"small"},Ue=(0,r._)("tr",null,[(0,r._)("th",null,"User"),(0,r._)("th",null,"Name"),(0,r._)("th",null,"Role")],-1);var Me=Site.MembersFetcherComponentVue;const Ze={extends:Site.ConsoleComponentBase,data:function(){return{grades:null,parts:[]}},components:{membersFetcher:Me},mounted:function(){this.$root.setTitle(": Grades")}},Le=(0,v.Z)(Ze,[["render",function(t,e,n,i,a,l){var o=(0,r.up)("router-link"),s=(0,r.up)("members-fetcher");return(0,r.wg)(),(0,r.iD)("div",Ie,[(0,r._)("div",$e,[(0,r.Wm)(s,null,{default:(0,r.w5)((function(e){return[(0,r._)("table",Te,[Ue,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.users,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{class:(0,r.C_)("T"!==e.role()?"ignore":"")},[(0,r._)("td",null,[(0,r.Wm)(o,{to:t.root+"/cl/console/grades/"+e.member.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.userId),1)]})),_:2},1032,["to"])]),(0,r._)("td",null,[(0,r.Wm)(o,{to:t.root+"/cl/console/grades/"+e.member.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.name),1)]})),_:2},1032,["to"])]),(0,r._)("td",null,(0,r.zw)(e.roleName()),1)],2)})),256))])]})),_:1})])])}]]);var He=function(t){return(0,r.dD)("data-v-c9cef9ae"),t=t(),(0,r.Cn)(),t},Ge={class:"content"},Ye={class:"full"},Ee={class:"small"},je={class:"vertical"},Ne=He((function(){return(0,r._)("th",null,"User",-1)})),Re=He((function(){return(0,r._)("th",null,"Name",-1)})),Be=He((function(){return(0,r._)("th",null,"Role",-1)})),Oe={class:"small"},Ve={class:"small category"};function We(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ke(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function Ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pe=Site.MembersFetcherComponentVue;const Fe={extends:Site.ConsoleComponentBase,data:function(){return{section:null,grades:null}},components:{membersFetcher:Pe},created:function(){var t=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](t.semester,t.section)},mounted:function(){var t=this;this.$root.setTitle(": Grades"),this.$site.api.get("/api/grade/all",{}).then((function(e){e.hasError()?t.$site.toast(t,e):t.grades=e.getData("grades-all").attributes})).catch((function(e){t.$site.toast(t,e)}))},methods:{assignmentGrade:function(t,e,n){if(null===this.grades)return"?";var r,i=We(this.grades[t.member.id].categories[e.tag].assignments);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.tag===n.tag)return a.grade}}catch(t){i.e(t)}finally{i.f()}return""},categoryGrade:function(t,e){if(null===this.grades)return"?";var n=this.grades[t.member.id].categories[e.tag];return n.grade}}};var qe=n(40087),Je={};Je.styleTagTransform=wt(),Je.setAttributes=ht(),Je.insert=ft().bind(null,"head"),Je.domAPI=mt(),Je.insertStyleElement=bt();dt()(qe.Z,Je);qe.Z&&qe.Z.locals&&qe.Z.locals;const Xe=(0,v.Z)(Fe,[["render",function(t,e,n,i,a,l){var o=(0,r.up)("router-link"),s=(0,r.up)("members-fetcher");return(0,r.wg)(),(0,r.iD)("div",Ge,[(0,r._)("div",Ye,[(0,r.Wm)(s,null,{default:(0,r.w5)((function(e){return[(0,r._)("table",Ee,[(0,r._)("tr",je,[Ne,Re,Be,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.section.assignments.categories,(function(t){return(0,r.wg)(),(0,r.iD)(r.HY,null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.assignments,(function(t){return(0,r.wg)(),(0,r.iD)("th",null,[(0,r._)("div",Oe,(0,r.zw)(t.shortname),1)])})),256)),(0,r._)("th",null,[(0,r._)("div",Ve,(0,r.zw)(t.name),1)])],64)})),256))]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.users,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{class:(0,r.C_)("T"!==e.role()?"ignore":"")},[(0,r._)("td",null,[(0,r.Wm)(o,{to:t.root+"/cl/console/grades/"+e.member.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.userId),1)]})),_:2},1032,["to"])]),(0,r._)("td",null,[(0,r.Wm)(o,{to:t.root+"/cl/console/grades/"+e.member.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(e.name),1)]})),_:2},1032,["to"])]),(0,r._)("td",null,(0,r.zw)(e.roleName()),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.section.assignments.categories,(function(t){return(0,r.wg)(),(0,r.iD)(r.HY,null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.assignments,(function(n){return(0,r.wg)(),(0,r.iD)("td",null,(0,r.zw)(l.assignmentGrade(e,t,n)),1)})),256)),(0,r._)("td",null,(0,r.zw)(l.categoryGrade(e,t)),1)],64)})),256))],2)})),256))])]})),_:1})])])}],["__scopeId","data-v-c9cef9ae"]]);var Qe={class:"content cl-grader"},tn={class:"full"},en={key:0},nn={class:"small"},rn=["onClick"],an=(0,r._)("tr",null,[(0,r._)("th",null,"Assignment"),(0,r._)("th",null,"Â "),(0,r._)("th",null,"Grade"),(0,r._)("th",null,"Â "),(0,r._)("th",null,"Grade")],-1),ln={class:"cl-category"},on={colspan:"3"},sn=(0,r._)("td",{colspan:"2"},"Â ",-1),cn=(0,r._)("p",{class:"center"},"Click on each assignment for more grading detail",-1),dn={class:"center"};var un=Site.PrevNextMemberVue,mn=Site.MemberFetcherComponentVue;const gn={extends:Site.ConsoleComponentBase,props:["memberid"],data:function(){return{course:this.$store.state.course.course,section:null,grade:null,per:""}},components:{memberFetcher:mn,prevNext:un},mounted:function(){this.setTitle(": Grade")},methods:{fetched:function(t){var e=this;this.section=t.member.getSection(this.$store),this.setTitle(": "+t.name+" Grades"),this.$site.api.get("/api/grade/grade/".concat(this.memberid),{}).then((function(t){t.hasError()?e.$site.toast(e,t):(e.grade=t.getData("grade").attributes,e.grade.available>0&&(e.per="("+(e.grade.grade/e.grade.available*100).toFixed(1)+"%)"))})).catch((function(t){e.$site.toast(e,t)}))}}},fn=(0,v.Z)(gn,[["render",function(t,e,n,i,a,l){var o=(0,r.up)("prev-next"),s=(0,r.up)("router-link"),c=(0,r.up)("member-fetcher");return(0,r.wg)(),(0,r.iD)("div",Qe,[(0,r._)("div",tn,[(0,r.Wm)(c,{onFetched:l.fetched,id:n.memberid,faillink:t.root+"/cl/console/grades/links"},{default:(0,r.w5)((function(e){return[(0,r.Wm)(o,{user:e.user},null,8,["user"]),null!==e.user&&null!==t.grade?((0,r.wg)(),(0,r.iD)("div",en,[(0,r._)("p",{class:(0,r.C_)("T"===e.user.role()?"cl-role":"cl-role cl-role-staff")},[(0,r.Uk)((0,r.zw)(e.user.roleName())+": "+(0,r.zw)(e.user.name)+" ",1),(0,r._)("em",nn,(0,r.zw)(e.user.userId),1),(0,r.Uk)("Â  "),(0,r._)("button",{class:"cl-grader-button",onClick:(0,r.iM)((function(n){return t.email(e.user)}),["prevent"])}," email "+(0,r.zw)(e.user.roleName().toLowerCase()),9,rn),(0,r.Uk)("Â  ")],2),(0,r._)("table",null,[an,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.grade.categories,(function(n){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("tr",ln,[(0,r._)("td",on,(0,r.zw)(n.name),1),(0,r._)("td",null,(0,r.zw)(n.points)+"%",1),(0,r._)("td",null,(0,r.zw)(n.grade),1)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.assignments,(function(n){return(0,r.wg)(),(0,r.iD)("tr",{class:"cl-assignment",key:n.tag},[(0,r._)("td",null,[(0,r.Wm)(s,{to:"".concat(t.root,"/cl/console/grading/").concat(n.tag,"/").concat(e.user.member.id)},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,r.zw)(n.name),1)]})),_:2},1032,["to"])]),(0,r._)("td",null,(0,r.zw)(Math.round(10*n.points)/10)+"%",1),(0,r._)("td",null,(0,r.zw)(n.grade),1),sn])})),128))],64)})),256))]),cn,(0,r._)("p",dn,"Computed Grade: "+(0,r.zw)(t.grade.grade)+" out of "+(0,r.zw)(t.grade.available)+" available points"+(0,r.zw)(t.per),1)])):(0,r.kq)("v-if",!0)]})),_:1},8,["onFetched","id","faillink"])])])}]]);var vn={class:"content cl-grader"},hn=(0,r._)("div",{class:"cl-toggle"},[(0,r._)("p",null,[(0,r._)("a",null,"Expand for instructions on creating rubrics.")]),(0,r._)("div",{class:"cl-toggleblock"},[(0,r._)("p",null,"Rubrics are entered as HTML. A common format is to create lists using <ul> and <li> tags."),(0,r._)("p",null,"Contents of an <li> or <p> tag can be make clickable so they automatically appear in the comment window by adding the class 'item'. All <li> children of a <ul> can be made clickable by adding the class 'items':"),(0,r._)("pre",{class:"code"},'<ul>\n   <li class="item">This item will be clickable</li>\n   <li>This item will not be clickable</li>\n</ul>\n\n<p class="item">And this will be clickable</p>\n\n<ul class="items">\n   <li>All of these items will be clickable</li>\n   <li>This one, too!</li>\n</ul>\n      ')])],-1),pn={class:"cl-rubric"};var bn=["innerHTML"],yn={ref:"editor"},wn=(0,r._)("button",{type:"submit"},"Submit",-1);const kn={props:["assigntag","rubric"],mounted:function(){var t=this,e=this.$refs.editor;this.editor=new this.$site.Editor(e,{value:this.rubric.rubric,tab:!0,autoIndent:!0}),this.editor.textarea.addEventListener("keydown",(function(){t.changed()}))},methods:{changed:function(){var t=this;null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){t.timer=null,t.rubric.show=t.$site.Sanitize.sanitize(t.editor.textarea.value)}),100)},submit:function(){var t=this;this.$site.api.post("/api/grade/rubrics/"+this.assigntag+"/"+this.rubric.tag,{rubric:this.rubric.show}).then((function(e){e.hasError()?t.$site.toast(t,e):t.$site.toast(t,"Rubric successfully saved")})).catch((function(e){t.$site.toast(t,e)}))}}},_n=(0,v.Z)(kn,[["render",function(t,e,n,i,a,l){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("h2",null,(0,r.zw)(n.rubric.name),1),(0,r._)("form",{method:"post",onSubmit:e[0]||(e[0]=(0,r.iM)((function(t){return l.submit()}),["prevent"]))},[(0,r._)("div",{class:"cl-rubricblock cl-show",innerHTML:n.rubric.show},null,8,bn),(0,r._)("div",yn,null,512),wn],32)])}]]);function Dn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return An(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function An(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xn=Site.ConsoleComponentBase,Cn=Site.Member;const Sn={extends:xn,props:["assigntag"],data:function(){return{ta:Cn.TA,rubrics:[]}},components:{rubricEditor:_n},created:function(){var t=this;this.$root.setTitle(": Assignment Grading"),this.timer=null;var e=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.$root.setTitle(": "+this.assignment.shortname+" Rubrics"),this.$site.api.get("/api/grade/rubrics/"+this.assignment.tag,{}).then((function(e){if(e.hasError())t.$site.toast(t,e);else{t.rubrics=e.getData("rubrics").attributes;var n,r=Dn(t.rubrics);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.show=i.rubric}}catch(t){r.e(t)}finally{r.f()}}})).catch((function(e){t.$site.toast(t,e)}))}},zn=(0,v.Z)(Sn,[["render",function(t,e,n,i,a,l){var o=(0,r.up)("rubric-editor");return(0,r.wg)(),(0,r.iD)("div",vn,[hn,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.rubrics,(function(t){return(0,r.wg)(),(0,r.iD)("div",pn,[(0,r.Wm)(o,{assigntag:n.assigntag,rubric:t},null,8,["assigntag","rubric"])])})),256))])}]]);var In=Site.Member,$n=function(){};$n.install=function(t){t.components.addOption({atLeast:In.GRADER,page:{atLeast:In.GRADER,title:"Grading",route:"/grading",order:4,component:h}}),t.components.addRoutes([{route:"/grading/:assigntag",component:Yt,props:!0},{route:"/grading/:assigntag/:memberid",component:ze,props:!0},{route:"/rubric/:assigntag",component:zn,props:!0},{route:"/grades/links",component:Le},{route:"/grades/all",component:Xe},{route:"/grades/:memberid",component:fn,props:!0}]),t.tables.add({title:"Grades",order:40,api:"/api/grade/tables"})};n(28805);Site.Console&&!Site.Console.Grades&&($n.install(Site.Console),Site.Console.Grades=!0)},70618:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(28742),i=n.n(r),a=n(75336),l=n.n(a)()(i());l.push([t.id,"div.cl-bulk-upload form{margin-bottom:1em}div.cl-bulk-upload fieldset>div{display:flex;flex-direction:row;flex-wrap:nowrap}div.cl-bulk-upload fieldset>div>div{padding-right:1em}div.cl-bulk-upload fieldset>div>div p{margin:0 0 .5em 0}div.cl-bulk-upload fieldset>div>div p:last-child{margin:0}div.cl-bulk-upload fieldset>div>div p:last-child input{width:6.5em}div.cl-bulk-upload-dlg{width:400px}",""]);const o=l},40087:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(28742),i=n.n(r),a=n(75336),l=n.n(a)()(i());l.push([t.id,"td[data-v-c9cef9ae]{min-width:30px}div.category[data-v-c9cef9ae]{color:#fcaf17}",""]);const o=l},53931:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(28742),i=n.n(r),a=n(75336),l=n.n(a)()(i());l.push([t.id,"div#cl-column-chooser-component[data-v-573d0ec7]{padding:1em}div#cl-column-chooser-component p[data-v-573d0ec7]{text-align:left}div#cl-column-chooser-component div.cl-parts[data-v-573d0ec7]{display:table;margin:auto}div#cl-column-chooser-component div.cl-parts>div[data-v-573d0ec7]{display:table-row}div#cl-column-chooser-component div.cl-parts>div>div[data-v-573d0ec7]:first-child{padding-right:1em;text-align:right}div#cl-column-chooser-component div.cl-parts>div>div[data-v-573d0ec7]{display:table-cell;height:2em}div#cl-column-chooser-component div.cl-parts div.cl-comment[data-v-573d0ec7]{font-style:italic;font-size:.85em}",""]);const o=l},86686:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(28742),i=n.n(r),a=n(75336),l=n.n(a)()(i());l.push([t.id,"div.cl-grade-history[data-v-8ce816ec]{max-width:600px;margin:1em 0}p[data-v-8ce816ec]{font-style:italic;font-size:.85em}p.expander[data-v-8ce816ec]{margin-bottom:0}div.grades[data-v-8ce816ec]{padding:2px 0 2px 18px;background-color:#dfd}div.grades p[data-v-8ce816ec]{margin:0;padding:2px 0 0 0}",""]);const o=l},74044:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(28742),i=n.n(r),a=n(75336),l=n.n(a),o=n(30899),s=n.n(o),c=new URL(n(22520),n.b),d=l()(i()),u=s()(c);d.push([t.id,`div.cl-grader div.cl-rubric div.cl-show,div.cl-grader table.cl-handbook div.comment,div.cl-grader div.cl-grade div.comment div.comment,div.cl-grader div.grader div.comment div.comment{-moz-box-shadow:3px 3px 8px #ccc;-webkit-box-shadow:3px 3px 8px #ccc;box-shadow:3px 3px 8px #ccc}div.cl-grades td.role{white-space:nowrap}div.cl-grader form{position:relative}div.cl-grader div.cl-grader-item{position:relative;background:#fff;padding-bottom:.25em}div.cl-grader div.cl-grader-item h2{margin-top:-0.25em}div.cl-grader div.cl-grader-item-locked{position:-webkit-sticky;position:sticky;top:50px;z-index:100;background:#f8fff8}div.cl-grader a.link-button{display:inline-block;font-size:.85em;padding:0 2px}div.cl-grader p.cl-title{text-align:center;font-size:1.1em;font-weight:bold;margin:1em 0 0 0}div.cl-grader p.cl-dispute{text-align:center;margin:0}div.cl-grader p.cl-role{text-align:center}div.cl-grader p.cl-role-staff{color:#c41425}div.cl-grader p.cl-due{text-align:center;font-style:italic;font-weight:normal;color:#c41425}div.cl-grader button.cl-grader-button{font-style:italic;font-size:.9em;color:#000}div.cl-grader a.cl-extra-link{display:block;float:right;font-size:.5em;padding-top:1em}div.cl-grader tr.cl-category td{text-align:right}div.cl-grader tr.cl-category td:first-child{text-align:left}div.cl-grader tr.cl-assignment td{text-align:right}div.cl-grader tr.cl-assignment td:first-child{text-align:left;padding-left:3em}div.cl-grader div.cl-grade,div.cl-grader div.grader{display:flex;flex-direction:row;align-items:flex-start}div.cl-grader div.cl-grade label,div.cl-grader div.cl-grade div.label,div.cl-grader div.grader label,div.cl-grader div.grader div.label{font-style:italic}div.cl-grader div.cl-grade label a,div.cl-grader div.cl-grade div.label a,div.cl-grader div.grader label a,div.cl-grader div.grader div.label a{font-size:.85em;text-decoration:none;padding-left:1em}div.cl-grader div.cl-grade div.comment,div.cl-grader div.grader div.comment{flex:1 1 auto;padding:0 20px 0 0}div.cl-grader div.cl-grade div.comment textarea,div.cl-grader div.grader div.comment textarea{display:block;width:100%}div.cl-grader div.cl-grade div.comment div.comment,div.cl-grader div.grader div.comment div.comment{white-space:pre-wrap;background:#f0f0f0;font-style:normal;border:1px solid #a9a9a9;height:120px;overflow:auto;padding:2px}div.cl-grader div.cl-grade div.points,div.cl-grader div.grader div.points{flex:0 0 auto;width:5em;text-align:center;padding:45px 5px 0 0}div.cl-grader div.cl-grade div.points input,div.cl-grader div.cl-grade div.points div.value,div.cl-grader div.grader div.points input,div.cl-grader div.grader div.points div.value{display:block;width:100%;text-align:center;font-style:normal;font-weight:bold}div.cl-grader div.cl-grade div.points span.not,div.cl-grader div.grader div.points span.not{font-size:.8em;font-style:italic}div.cl-grader div.cl-grade div.value,div.cl-grader div.grader div.value{padding:2px 1px}div.cl-grader div.cl-grade div.value a,div.cl-grader div.grader div.value a{text-decoration:none;color:#000}div.cl-grader table.cl-handbook{width:90%}div.cl-grader table.cl-handbook td:last-child,div.cl-grader table.cl-handbook th:last-child{width:1px;white-space:nowrap}div.cl-grader table.cl-handbook input[type=radio]{display:inline-block;padding:0 2px;margin:0 2px}div.cl-grader table.cl-handbook input[type=text]{width:100%}div.cl-grader table.cl-handbook textarea{width:100%}div.cl-grader table.cl-handbook td.cl-deduct{text-align:center;font-size:1.5em}div.cl-grader table.cl-handbook div.comment{white-space:pre;background:#f0f0f0;font-style:normal;border:1px solid #a9a9a9;height:80px;overflow:auto;padding:2px;margin:.3em 0}div.cl-grader p.cl-rubric-expand{margin-bottom:.1em}div.cl-grader div.cl-rubricblock{background:#e8f7f3;padding:5px;border:1px gray solid;word-wrap:normal;font-size:.9em}div.cl-grader div.cl-rubricblock p:first-child,div.cl-grader div.cl-rubricblock ul:first-child{margin-top:0}div.cl-grader div.cl-rubricblock p:last-child,div.cl-grader div.cl-rubricblock ul:last-child{margin-bottom:0}div.cl-grader div.cl-rubricblock li.item,div.cl-grader div.cl-rubricblock p.item,div.cl-grader div.cl-rubricblock ul.items li{color:#900000;cursor:pointer}div.cl-grader div.cl-rubricblock li.item:hover,div.cl-grader div.cl-rubricblock p.item:hover,div.cl-grader div.cl-rubricblock ul.items li:hover{color:#c00000}div.cl-grader textarea{background:#f0f0f0;font-style:normal}div.cl-grader textarea.yellow-pad{background:url(${u})}div.cl-grader div.grade{border-top:1px solid #000}div.cl-grader div.grade p:first-child{text-align:center;font-size:1.2em}div.cl-grader div.cl-rubric div.cl-show{margin:1em 0;word-wrap:normal;min-height:8em}div.cl-grader div.cl-rubric textarea{font-size:.9em;margin:1em 0;background:#f0f0f0;font-style:normal;width:100%;min-height:8em}`,""]);const m=d},28805:(t,e,n)=>{var r=n(43546),i=n.n(r),a=n(19104),l=n.n(a),o=n(85797),s=n.n(o),c=n(74706),d=n.n(c),u=n(10807),m=n.n(u),g=n(37002),f=n.n(g),v=n(74044),h={};h.styleTagTransform=f(),h.setAttributes=d(),h.insert=s().bind(null,"head"),h.domAPI=l(),h.insertStyleElement=m();i()(v.Z,h),v.Z&&v.Z.locals&&v.Z.locals},76225:(t,e,n)=>{n.d(e,{Z:()=>D});var r=n(34802),i={class:"cl-handbook"},a=(0,r._)("br",null,null,-1),l=(0,r._)("th",null,[(0,r.Uk)("Deduction"),(0,r._)("br"),(0,r.Uk)("0 to max")],-1),o={key:0,class:"cl-toggle cl-single-space"},s={class:"cl-rubricblock"},c=["innerHTML"],d={class:"center"},u=["onUpdate:modelValue","value"],m={key:1},g={key:1},f={class:"center"},v=["value"],h={key:1},p=(0,r._)("tr",{class:"cl-internal"},[(0,r._)("th",null,"Comment"),(0,r._)("th",null,"Deduction")],-1),b={key:1,class:"comment"},y={class:"cl-deduct"};function w(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){o=!0,a=t},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const _={props:{item:{default:{}},readonly:{default:!1}},emit:["handbook-data"],watch:{item:function(t){this.take()}},data:function(){return{metadata:{},total:0}},mounted:function(){this.take()},methods:{take:function(){this.metadata={};var t,e=w(this.item.handbook.categories);try{for(e.s();!(t=e.n()).done;){var n=t.value,r=this.item.metadata[n.tag];void 0===r&&(r=0),this.metadata[n.tag]=r}}catch(t){e.e(t)}finally{e.f()}var i=this.item.metadata._manual;void 0===i&&(i=0),this.metadata._manual=i;var a=this.item.metadata._manual_text;void 0===a&&(a=""),this.metadata._manual_text=a;var l=this.item.metadata._comment;void 0===l&&(l=""),this.metadata._comment=l,this.compute()},compute:function(){var t,e=-this.metadata._manual,n=w(this.item.handbook.categories);try{for(n.s();!(t=n.n()).done;){var r=t.value;e-=this.metadata[r.tag]}}catch(t){n.e(t)}finally{n.f()}(e+=this.item.handbook.free)>0&&(e=0),e*=this.item.multiplier,this.total=e,this.$emit("handbook-data",{metadata:this.metadata,total:this.total})},deduction:function(t){return 0===t?"":-t}}};const D=(0,n(17944).Z)(_,[["render",function(t,e,n,w,k,_){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("table",i,[(0,r._)("tr",null,[(0,r._)("th",null,[(0,r.Uk)("Category"),a,(0,r.Uk)("Multiplier: "+(0,r.zw)(n.item.multiplier),1)]),l]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.item.handbook.categories,(function(i){return(0,r.wg)(),(0,r.iD)("tr",null,[(0,r._)("td",null,[void 0!==i.rubric?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("span",null,[(0,r._)("a",null,(0,r.zw)(i.name),1)]),(0,r._)("div",s,[(0,r._)("div",{innerHTML:i.rubric},null,8,c)])])):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)((0,r.zw)(i.name),1)],64))]),(0,r._)("td",d,[n.readonly?((0,r.wg)(),(0,r.iD)("span",m,(0,r.zw)(_.deduction(t.metadata[i.tag])),1)):((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(i.deduct+1,(function(n){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{"onUpdate:modelValue":function(e){return t.metadata[i.tag]=e},value:n-1,type:"radio",onChange:e[0]||(e[0]=function(){return _.compute&&_.compute.apply(_,arguments)})},null,40,u)),[[r.G2,t.metadata[i.tag]]])})),256))])])})),256)),(0,r._)("tr",null,[(0,r._)("td",null,[n.readonly?((0,r.wg)(),(0,r.iD)("span",g,(0,r.zw)(t.metadata._manual_text),1)):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.metadata._manual_text=e})},null,512)),[[r.nr,t.metadata._manual_text]])]),(0,r._)("td",f,[n.readonly?((0,r.wg)(),(0,r.iD)("span",h,(0,r.zw)(_.deduction(t.metadata._manual)),1)):((0,r.wg)(),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(5,(function(n){return(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.metadata._manual=e}),value:n-1,type:"radio",onChange:e[3]||(e[3]=function(){return _.compute&&_.compute.apply(_,arguments)})},null,40,v),[[r.G2,t.metadata._manual]])})),64))])]),p,(0,r._)("tr",null,[(0,r._)("td",null,[n.readonly?((0,r.wg)(),(0,r.iD)("div",b,(0,r.zw)(t.metadata._comment),1)):(0,r.wy)(((0,r.wg)(),(0,r.iD)("textarea",{key:0,rows:"3","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.metadata._comment=e})},null,512)),[[r.nr,t.metadata._comment]])]),(0,r._)("td",y,(0,r.zw)(t.total),1)])])])}]])},33189:(t,e,n)=>{n.d(e,{Z:()=>x});var r=n(34802),i={class:"cl-grade-history"},a={key:0},l={key:0,class:"cl-toggle"},o={class:"expander"},s={class:"grades"},c={key:1};const d={props:["history"],data:function(){return{history2:[]}},watch:{history:function(t,e){this.history2=this.history.slice().reverse()}},mounted:function(){void 0!==this.history&&(this.history2=this.history.slice().reverse())},methods:{display:function(t){var e=this.$store.getters["course/staff"](t.grader),n=null!==e?e.displayName():"Invalid";return this.$site.TimeFormatter.absoluteUNIX(t.time,"short")+" by "+n}}};var u=n(43546),m=n.n(u),g=n(19104),f=n.n(g),v=n(85797),h=n.n(v),p=n(74706),b=n.n(p),y=n(10807),w=n.n(y),k=n(37002),_=n.n(k),D=n(86686),A={};A.styleTagTransform=_(),A.setAttributes=b(),A.insert=h().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=w();m()(D.Z,A);D.Z&&D.Z.locals&&D.Z.locals;const x=(0,n(17944).Z)(d,[["render",function(t,e,n,d,u,m){return(0,r.wg)(),(0,r.iD)("div",i,[t.history2.length>0?((0,r.wg)(),(0,r.iD)("div",a,[t.history2.length>1?((0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("p",o,[(0,r._)("a",null,(0,r.zw)(m.display(t.history2[0]))+" / Expand for additional grading history",1)]),(0,r._)("div",s,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.history2,(function(t){return(0,r.wg)(),(0,r.iD)("p",null,(0,r.zw)(m.display(t)),1)})),256))])])):((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("p",null,(0,r.zw)(m.display(t.history2[0])),1)]))])):(0,r.kq)("v-if",!0)])}],["__scopeId","data-v-8ce816ec"]])},22520:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAgCAIAAACtjN7AAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAHlJREFUOI3t0rENg0AUA1D7n+EqKpQZMkFmZDtKNkiTHiECucsKbhBC4tdPLvzNbR7gHHNYDgBwDBVQPVlVIDNUisWjRevWOZDMGt8vh0YkPR+TQytb9d3HoQVZ+954qY1o93r6Bm6qiK8nea29/uhQkGJNFkU6/Vt/PUghIGwDWDIAAAAASUVORK5CYII="}},t=>{t.O(0,[736,828,77,530,592],(()=>{return e=53398,t(t.s=e);var e}));t.O()}]);