(()=>{"use strict";var t,e={98477:(t,e,r)=>{var n=function(){};n.create=function(t,e,r,n){var a=document.querySelector(t);if(null!==a){var i='<div><site-header :title="title">'.concat(void 0!==n?'<page-nav :menu="menu"></page-nav>':"",'</site-header>\n<page-vue :json="json"></page-vue><site-footer></site-footer>\n</div>'),s=Site.info.header.component(),o=Site.info.footer.component(),l=JSON.parse(a.textContent),c=Site.store,d=Site.Site,u={"site-header":s,"site-footer":o,"page-vue":r};void 0!==n&&(u["page-nav"]=n),new Site.Vue({el:a,site:d,store:c,data:{title:e,json:l,menu:[]},template:i,components:u,methods:{setTitle:function(t){this.title=t,document.title=Site.info.siteName+" "+t},setMenu:function(t){this.menu=t},getMenu:function(){return this.menu}}})}};var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content cl-grader"},[r("div",{staticClass:"full"},[r("div",{staticClass:"cl-autoback"}),t._v(" "),r("p",{staticClass:"cl-title"},[t._v(t._s(t.json.assignment.name))]),t._v(" "),null!==t.json.dispute?r("p",{staticClass:"cl-dispute"},[t._v("Please direct all grading issues to "),r("span",{domProps:{innerHTML:t._s(t.json.dispute)}})]):t._e(),t._v(" "),t._l(t.json.grades,(function(e){return void 0!==e.html?r("div",[r("h2",[t._v(t._s(e.name))]),t._v(" "),void 0===e.handbook?r("div",{domProps:{innerHTML:t._s(e.html)}}):r("handbook",{attrs:{item:e,readonly:"true"}}),t._v(" "),r("grade-history",{attrs:{history:e.history}})],1):t._e()})),t._v(" "),r("div",{staticClass:"grade"},[null!==t.json.grade?r("p",[t._v("Computed Grade: "+t._s(t.json.grade))]):[r("p",[t._v("Grade Not Available")]),t._v(" "),r("p",{staticClass:"center small notice"},[t._v("Grades are not available until all parts of the assignment have been graded.")])]],2),t._v(" "),r("div",{staticClass:"cl-autoback"})],2)])};a._withStripped=!0;var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cl-grade-history"},[t.history2.length>0?r("div",[t.history2.length>1?r("div",{staticClass:"cl-toggle"},[r("p",{staticClass:"expander"},[r("a",[t._v(t._s(t.display(t.history2[0]))+" / Expand for additional grading history")])]),t._v(" "),r("div",{staticClass:"grades"},t._l(t.history2,(function(e){return r("p",[t._v(t._s(t.display(e)))])})),0)]):r("div",[r("p",[t._v(t._s(t.display(t.history2[0])))])])]):t._e()])};i._withStripped=!0;const s={props:["history"],data:function(){return{history2:[]}},watch:{history:function(t,e){this.history2=this.history.slice().reverse()}},mounted:function(){void 0!==this.history&&(this.history2=this.history.slice().reverse())},methods:{display:function(t){var e=this.$store.getters["course/staff"](t.grader),r=null!==e?e.displayName():"Invalid";return this.$site.TimeFormatter.absoluteUNIX(t.time,"short")+" by "+r}}};var o=r(81525),l=r.n(o),c=r(21871),d={insert:"head",singleton:!1};l()(c.Z,d);c.Z.locals;var u=r(36337),v=(0,u.Z)(s,i,[],!1,null,"177faa53",null);v.options.__file="vendor/cl/grades/js/Util/GradeHistoryComponent.vue";const m=v.exports;var g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("table",{staticClass:"cl-handbook"},[r("tr",[r("th",[t._v("Category"),r("br"),t._v("Multiplier: "+t._s(t.item.multiplier))]),t._m(0)]),t._v(" "),t._l(t.item.handbook.categories,(function(e){return r("tr",[r("td",[void 0!==e.rubric?[r("div",{staticClass:"cl-toggle cl-single-space"},[r("span",[r("a",[t._v(t._s(e.name))])]),t._v(" "),r("div",{staticClass:"cl-rubricblock"},[r("div",{domProps:{innerHTML:t._s(e.rubric)}})])])]:[t._v(t._s(e.name))]],2),t._v(" "),r("td",{staticClass:"center"},[t.readonly?r("span",[t._v(t._s(t.deduction(t.metadata[e.tag])))]):t._l(e.deduct+1,(function(n){return r("input",{directives:[{name:"model",rawName:"v-model",value:t.metadata[e.tag],expression:"metadata[category.tag]"}],attrs:{type:"radio"},domProps:{value:n-1,checked:t._q(t.metadata[e.tag],n-1)},on:{change:[function(r){return t.$set(t.metadata,e.tag,n-1)},t.compute]}})}))],2)])})),t._v(" "),r("tr",[r("td",[t.readonly?r("span",[t._v(t._s(t.metadata._manual_text))]):r("input",{directives:[{name:"model",rawName:"v-model",value:t.metadata._manual_text,expression:"metadata['_manual_text']"}],attrs:{type:"text"},domProps:{value:t.metadata._manual_text},on:{input:function(e){e.target.composing||t.$set(t.metadata,"_manual_text",e.target.value)}}})]),t._v(" "),r("td",{staticClass:"center"},[t.readonly?r("span",[t._v(t._s(t.deduction(t.metadata._manual)))]):t._l(5,(function(e){return r("input",{directives:[{name:"model",rawName:"v-model",value:t.metadata._manual,expression:"metadata['_manual']"}],attrs:{type:"radio"},domProps:{value:e-1,checked:t._q(t.metadata._manual,e-1)},on:{change:[function(r){return t.$set(t.metadata,"_manual",e-1)},t.compute]}})}))],2)]),t._v(" "),t._m(1),t._v(" "),r("tr",[r("td",[t.readonly?r("div",{staticClass:"comment"},[t._v(t._s(t.metadata._comment))]):r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.metadata._comment,expression:"metadata['_comment']"}],attrs:{rows:"3"},domProps:{value:t.metadata._comment},on:{input:function(e){e.target.composing||t.$set(t.metadata,"_comment",e.target.value)}}})]),r("td",{staticClass:"cl-deduct"},[t._v(t._s(t.total))])])],2)])};function p(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}g._withStripped=!0;const h={props:{item:{default:{}},readonly:{default:!1}},watch:{item:function(t){this.take()}},data:function(){return{metadata:{},total:0}},mounted:function(){this.take()},methods:{take:function(){this.metadata={};var t,e=p(this.item.handbook.categories);try{for(e.s();!(t=e.n()).done;){var r=t.value,n=this.item.metadata[r.tag];void 0===n&&(n=0),this.$set(this.metadata,r.tag,n)}}catch(t){e.e(t)}finally{e.f()}var a=this.item.metadata._manual;void 0===a&&(a=0),this.$set(this.metadata,"_manual",a);var i=this.item.metadata._manual_text;void 0===i&&(i=""),this.$set(this.metadata,"_manual_text",i);var s=this.item.metadata._comment;void 0===s&&(s=""),this.$set(this.metadata,"_comment",s),this.compute()},compute:function(){var t,e=-this.metadata._manual,r=p(this.item.handbook.categories);try{for(r.s();!(t=r.n()).done;){var n=t.value;e-=this.metadata[n.tag]}}catch(t){r.e(t)}finally{r.f()}(e+=this.item.handbook.free)>0&&(e=0),e*=this.item.multiplier,this.total=e,this.$emit("handbook-data",{metadata:this.metadata,total:this.total})},deduction:function(t){return 0===t?"":-t}}};var _=(0,u.Z)(h,g,[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("th",[t._v("Deduction"),r("br"),t._v("0 to max")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",{staticClass:"cl-internal"},[r("th",[t._v("Comment")]),r("th",[t._v("Deduction")])])}],!1,null,null,null);_.options.__file="vendor/cl/grades/js/Handbook/Handbook.vue";const b=_.exports;const y={extends:Site.UserVueBase,props:["json"],components:{gradeHistory:m,handbook:b},mounted:function(){var t=this;this.$parent.setTitle(":  "+this.json.assignment.shortName+" Grade for "+this.user.displayName());var e=[{name:"Grades",click:function(){window.location=t.$site.root+"/cl/grades"}}];this.$parent.setMenu(e)}};var k=(0,u.Z)(y,a,[],!1,null,null,null);k.options.__file="vendor/cl/grades/js/User/GradeAssignment.vue";const C=k.exports;var w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content cl-grader"},[r("div",{staticClass:"full"},[null!==t.grade?r("div",[r("p",[r("span",{domProps:{innerHTML:t._s(t.json.before)}})]),t._v(" "),null!==t.json.dispute?r("p",{staticClass:"center"},[t._v("Please direct all grading issues to "),r("span",{domProps:{innerHTML:t._s(t.json.dispute)}})]):t._e(),t._v(" "),r("table",[t._m(0),t._v(" "),t._l(t.grade.categories,(function(e){return[r("tr",{staticClass:"cl-category"},[r("td",{attrs:{colspan:"3"}},[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.points)+"%")]),r("td",[t._v(t._s(e.grade))])]),t._v(" "),t._l(e.assignments,(function(e){return e.points>0?r("tr",{key:e.tag,staticClass:"cl-assignment"},[r("td",[r("a",{attrs:{href:t.root+"/cl/grade/"+e.tag}},[t._v(t._s(e.name))])]),t._v(" "),r("td",[t._v(t._s(Math.round(10*e.points)/10)+"%")]),r("td",[t._v(t._s(e.grade))]),r("td",{attrs:{colspan:"2"}},[t._v(" ")])]):t._e()}))]}))],2),t._v(" "),r("p",{staticClass:"center"},[t._v("Click on each assignment for more grading detail")]),t._v(" "),r("p",{staticClass:"center"},[t._v("Computed Grade: "+t._s(t.grade.grade)+" out of "+t._s(t.grade.available)+" available points"+t._s(t.per))]),t._v(" "),r("p",[r("span",{domProps:{innerHTML:t._s(t.json.after)}})])]):t._e()])])};w._withStripped=!0;const x={extends:Site.UserVueBase,props:["json"],data:function(){return{grade:null,per:""}},mounted:function(){this.setTitle("Grades for "+this.user.displayName()),this.grade=this.json,this.grade.available>0&&(this.per=" ("+(this.grade.grade/this.grade.available*100).toFixed(1)+"%)")},methods:{}};var S=(0,u.Z)(x,w,[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("th",[t._v("Assignment")]),r("th",[t._v(" ")]),r("th",[t._v("Grade")]),r("th",[t._v(" ")]),r("th",[t._v("Grade")])])}],!1,null,null,null);S.options.__file="vendor/cl/grades/js/User/Grades.vue";const A=S.exports;var $=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"cl-nav"},[r("div",[r("ul",{staticClass:"dividers"},[r("li",[r("a",{attrs:{href:t.homeLink}},[r("span",{staticClass:"home"},[t._v("Home")])])]),t._v(" "),t._l(t.menu,(function(e){return r("li",[r("a",{on:{click:function(t){return t.preventDefault(),e.click()}}},[t._v(t._s(e.name))])])}))],2)])])};$._withStripped=!0;const j={props:["menu"],data:function(){return{homeLink:Site.root+"/"}}};var M=(0,u.Z)(j,$,[],!1,null,null,null);M.options.__file="vendor/cl/site/js/Vue/PageNav.vue";const T=M.exports;var I=function(){};I.create=function(t){return t.ready((function(){n.create("div.cl-grade-assignment","Assignment Grade",C,T),n.create("div.cl-grades","Grades",A,T)})),function(){}};var E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content cl-grader"},[r("div",{staticClass:"full"},[r("h2",[t._v("Grades Summary")]),t._v(" "),r("ul",[r("li",[r("router-link",{attrs:{to:t.root+"/cl/console/grades/all"}},[t._v("All Students")])],1),t._v(" "),r("li",[r("router-link",{attrs:{to:t.root+"/cl/console/grades/links"}},[t._v("All Students Grade Links")])],1),t._v(" "),t.downloadPermission?r("li",[r("a",{attrs:{href:t.root+"/cl/grades/csv"}},[t._v("Download Student Grades")])]):t._e(),t._v(" "),t.rubricDumperPermission?r("li",[r("a",{attrs:{href:t.root+"/cl/grades/rubric-dumper"}},[t._v("Rubric Dumper")])]):t._e()]),t._v(" "),t._l(t.section.assignments.categories,(function(e){return r("div",[r("h2",[t._v(t._s(e.name))]),t._v(" "),r("ul",[0===e.assignments.length?r("li",[r("em",[t._v("Pending...")])]):t._e(),t._v(" "),t._l(e.assignments,(function(e){return r("li",{key:e.tag},[r("router-link",{attrs:{to:t.gradingLink+e.tag}},[t._v(t._s(e.name))]),t._v(" "),t.user.atLeast(t.ta)?r("router-link",{staticClass:"link-button",attrs:{to:t.root+"/cl/console/rubric/"+e.tag}},[t._v("rubrics")]):t._e()],1)}))],2)])}))],2)])};E._withStripped=!0;var G=Site.Member;const N={extends:Site.ConsoleComponentBase,data:function(){return{section:null,gradingLink:this.$site.root+"/cl/console/grading/",ta:G.TA,downloadPermission:!1,rubricDumperPermission:!1}},computed:{},created:function(){this.$parent.setTitle(": Assignment Grading");var t=this.$store.state.user.user,e=t.member;this.downloadPermission=t.atLeast(this.$site.permissions.atLeast("grades-download",G.TA)),this.rubricDumperPermission=t.atLeast(this.$site.permissions.atLeast("grades-rubric-dumper",G.TA)),this.section=this.$store.getters["course/section"](e.semester,e.section)},methods:{}};var L=(0,u.Z)(N,E,[],!1,null,null,null);L.options.__file="vendor/cl/grades/js/Console/Grading.vue";const P=L.exports;var Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content cl-grades"},[r("div",{staticClass:"full"},[r("submissions-links",{attrs:{assignment:t.assignment}}),t._v(" "),r("members-fetcher",{scopedSlots:t._u([{key:"default",fn:function(e){return[null!==t.grades?r("table",{staticClass:"small"},[r("tr",{staticClass:"vertical"},[r("th",[t._v("User")]),t._v(" "),r("th",[t._v("Name")]),t._v(" "),r("th",[t._v("Role")]),t._v(" "),t._l(t.parts,(function(e){return r("th",{staticClass:"small"},[r("div",[t._v(t._s(e.name))])])})),t._v(" "),null!==t.grades?r("th",{staticClass:"small"},[r("div",[t._v("Grade")])]):t._e()],2),t._v(" "),t._l(e.users,(function(e){return r("tr",{class:"T"!==e.role()?"ignore":""},[r("td",[r("router-link",{attrs:{to:t.root+t.link+e.member.id}},[t._v(t._s(e.userId))])],1),t._v(" "),r("td",[r("router-link",{attrs:{to:t.root+t.link+e.member.id}},[t._v(t._s(e.name))])],1),t._v(" "),r("td",{staticClass:"role"},[t._v(t._s(e.roleName()))]),t._v(" "),t._l(t.parts,(function(n){return r("td",{staticClass:"right"},[t._v(t._s(t.partGrade(e,n)))])})),t._v(" "),null!==t.grades?r("td",{staticClass:"right"},[t._v(t._s(t.grade(e)))]):t._e()],2)})),t._v(" "),r("tr",{staticClass:"divider"},[r("td",{staticClass:"center",attrs:{colspan:"2"}},[r("em",[t._v("counts")])]),t._v(" "),r("td",{staticClass:"center"},[t._v(t._s(e.users.length))]),t._v(" "),t._l(t.parts,(function(n){return r("td",{staticClass:"right"},[t._v(t._s(t.partCount(e.users,n)))])})),t._v(" "),null!==t.grades?r("td",{staticClass:"right"},[t._v(t._s(t.gradesCount(e.users)))]):t._e()],2),t._v(" "),r("tr",[r("td",{staticClass:"center",attrs:{colspan:"2"}},[r("em",[t._v("averages")])]),t._v(" "),r("td",{staticClass:"center"},[t._v(" ")]),t._v(" "),t._l(t.parts,(function(n){return r("td",{staticClass:"right"},[t._v(t._s(t.partAverage(e.users,n)))])})),t._v(" "),null!==t.grades?r("td",{staticClass:"right"},[t._v(t._s(t.gradeAverage(e.users)))]):t._e()],2)],2):t._e()]}}])}),t._v(" "),t.parts.length>0&&t.ta?r("bulk-upload",{attrs:{assigntag:t.assigntag,parts:t.parts}}):t._e()],1)])};Z._withStripped=!0;var D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cl-bulk-upload"},[r("h2",{attrs:{id:"bulk"}},[t._v("Bulk grade uploading")]),t._v(" "),r("p",[t._v("This option accepts files in CSV format as produced by CrowdMark and other systems. ")]),t._v(" "),r("form",{staticClass:"full",attrs:{method:"post",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.bulkUpload()}}},[r("fieldset",[r("legend",[t._v("Bulk Upload File")]),t._v(" "),r("div",[r("div",[t._v("File to upload: ")]),t._v(" "),r("div",[r("p",[r("input",{attrs:{name:"bulkfile",type:"file"},on:{change:function(e){t.bulkFiles=e.target.files}}})]),t._v(" "),t._m(0)])])])])])};D._withStripped=!0;var O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"cl-column-chooser-component"}},[r("p",[t._v("Member identifier column:\n    "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.memberIdColumn.id,expression:"memberIdColumn.id"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.memberIdColumn,"id",e.target.multiple?r:r[0])}}},t._l(t.columns,(function(e){return r("option",[t._v(t._s(e))])})),0)]),t._v(" "),r("p",[t._v("Member identifier can be an email address or user ID.")]),t._v(" "),r("p",{staticClass:"center"},[t._v("Select column for each grade item")]),t._v(" "),r("div",{staticClass:"cl-parts"},[t._l(t.parts,(function(e,n){return[r("div",[r("div",[t._v(t._s(e.name)+":")]),t._v(" "),r("div",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.mapping[e.tag],expression:"mapping[part.tag]"}],on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.mapping,e.tag,r.target.multiple?n:n[0])}}},t._l(t.columnSelect,(function(e){return r("option",[t._v(t._s(e))])})),0)])]),t._v(" "),r("div",[r("div",{staticClass:"cl-comment"},[t._v("comment:")]),t._v(" "),r("div",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.commentMapping[e.tag],expression:"commentMapping[part.tag]"}],on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.commentMapping,e.tag,r.target.multiple?n:n[0])}}},t._l(t.columnSelect,(function(e){return r("option",[t._v(t._s(e))])})),0)])])]}))],2)])};function U(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}O._withStripped=!0;const F={props:["parts","columns"],data:function(){return{memberIdColumn:{},columnSelect:[],mapping:{},commentMapping:{}}},methods:{},mounted:function(){this.memberIdColumn=this.$parent.idColumn,this.memberIdColumn.id=this.columns[0];var t,e=U(this.columns);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(r.toLowerCase().indexOf("email")>=0){this.memberIdColumn.id=r;break}}}catch(t){e.e(t)}finally{e.f()}this.columnSelect=["*none*"].concat(this.columns),this.mapping=this.$parent.mapping,this.commentMapping=this.$parent.commentMapping;var n,a=U(this.parts);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.mapping[i.tag]="*none*",this.commentMapping[i.tag]="*none*"}}catch(t){a.e(t)}finally{a.f()}}};var z=r(86886),H={insert:"head",singleton:!1};l()(z.Z,H);z.Z.locals;var B=(0,u.Z)(F,O,[],!1,null,"56b05980",null);B.options.__file="vendor/cl/grades/js/Console/GradesUploadColumnChooser.vue";const V=B.exports;function J(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Y={props:["assigntag","parts"],data:function(){return{bulkFiles:null}},methods:{bulkUpload:function(){var t=this,e=this.$site;if(!(null===this.bulkFiles||this.bulkFiles.length<1)){var r=this.bulkFiles[0],n=new FileReader;n.onload=function(r){var n=t.$store.state.user.user.member,a={file:r.target.result,semester:n.semester,section:n.section,mapping:"",commentMapping:"",idcolumn:""},i=r.target.result.match(/^.*$/m);if(null!==i){var s=i[0].split(","),o=t.parts,l={},c={},d={};new e.Dialog({title:"Column Selection",content:'<div id="cl-column-chooser"></div>',addClass:"cl-column-chooser-dlg",buttons:[{contents:"Upload",focus:!0,click:function(r){r.close();var n,i=!1,s=J(o);try{for(s.s();!(n=s.n()).done;){var u=n.value;if("*none*"!==l[u.tag]){i=!0;break}}}catch(t){s.e(t)}finally{s.f()}i?(a.mapping=JSON.stringify(l),a.commentMapping=JSON.stringify(c),a.idcolumn=d.id,e.api.post("/api/grade/bulk/upload/"+t.assigntag,a).then((function(r){if(r.hasError())console.log(r),e.toast(t,r);else{var n=r.getData("results");e.toast(t,n.attributes.grades+" grades successfully uploaded for "+n.attributes.users+" users"),setTimeout((function(){window.history.go()}),1e3)}})).catch((function(r){console.log(r),e.toast(t,r)}))):e.toast(t,"No columns selected to upload")}},{contents:"Cancel",focus:!0,click:function(t){t.close()}}]}),new e.Vue({el:"#cl-column-chooser",data:function(){return{parts:o,columns:s,mapping:l,commentMapping:c,idColumn:d}},template:'<chooser :parts="parts" :columns="columns"></chooser>',components:{chooser:V}})}else new e.Dialog.MessageBox("Invalid File","File does not contain grade data.",e.Dialog.MessageBox.OK,(function(){}))},n.onerror=function(t){e.toast(this,"Error reading file")},n.onabort=function(t){e.toast(this,"File read aborted")},n.readAsText(r)}}}};var X=r(26956),K={insert:"head",singleton:!1};l()(X.Z,K);X.Z.locals;var Q=(0,u.Z)(Y,D,[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("input",{attrs:{type:"submit",value:"Press"}}),t._v(" to upload the file!")])}],!1,null,null,null);Q.options.__file="vendor/cl/grades/js/Console/GradeBulkUploadComponent.vue";const q=Q.exports;function tt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rt=Site.SubmissionsLinksVue,nt=Site.MembersFetcherComponentVue,at=Site.ConsoleComponentBase,it=Site.Member;const st={extends:at,props:["assigntag"],data:function(){return{link:"/cl/console/grading/"+this.assigntag+"/",grades:null,parts:[],fetched:!1,assignment:null,ta:!1}},components:{membersFetcher:nt,submissionsLinks:rt,"bulk-upload":q},mounted:function(){var t=this,e=this.$store.state.user.user.member;e.semester,e.section;this.ta=this.user.atLeast(it.TA),this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.$parent.setTitle(": "+this.assignment.shortname+" Grading"),this.$site.api.get("/api/grade/grades/"+this.assigntag,{}).then((function(e){e.hasError()?t.$site.toast(t,e):(t.grades=e.getData("grades").attributes,t.parts=e.getData("grade-parts").attributes)})).catch((function(e){t.$site.toast(t,e)}))},methods:{partGrade:function(t,e){var r=this.grades[t.member.id];if(void 0===r)return"";var n=r.grades[e.tag];return void 0===n?"":n},grade:function(t){var e=this.grades[t.member.id];return void 0===e?"":null!==e.grade?e.grade:""},partCount:function(t,e){var r,n=0,a=tt(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;""!==this.partGrade(i,e)&&n++}}catch(t){a.e(t)}finally{a.f()}return n},gradesCount:function(t){var e,r=0,n=tt(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;""!==this.grade(a)&&r++}}catch(t){n.e(t)}finally{n.f()}return r},partAverage:function(t,e){var r,n=0,a=0,i=tt(t);try{for(i.s();!(r=i.n()).done;){var s=r.value,o=this.partGrade(s,e);""!==o&&(n++,a+=o)}}catch(t){i.e(t)}finally{i.f()}return 0===n?"":Math.round(a/n*10)/10},gradeAverage:function(t){var e,r=0,n=0,a=tt(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,s=this.grade(i);""!==s&&(r++,n+=s)}}catch(t){a.e(t)}finally{a.f()}return 0===r?"":Math.round(n/r*10)/10}}};var ot=(0,u.Z)(st,Z,[],!1,null,null,null);ot.options.__file="vendor/cl/grades/js/Console/GradingAssignment.vue";const lt=ot.exports;var ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content cl-grader"},[r("div",{staticClass:"full"},[r("member-fetcher",{attrs:{id:t.memberid,faillink:t.gradingLink},on:{fetched:t.fetched},scopedSlots:t._u([{key:"default",fn:function(e){return[r("prev-next",{attrs:{user:e.user}}),t._v(" "),null!==e.user?r("div",[r("form",{ref:"form",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[r("p",{class:"T"===e.user.role()?"cl-role":"cl-role cl-role-staff"},[t._v("\n              "+t._s(e.user.roleName())+": "+t._s(e.user.name)+" "+t._s(e.user.role())+"\n              "),r("em",{staticClass:"small"},[t._v(t._s(e.user.userId))]),t._v(" "),r("button",{staticClass:"cl-grader-button",on:{click:function(r){return r.preventDefault(),t.email(e.user)}}},[t._v("\n                email "+t._s(e.user.roleName().toLowerCase())+"\n              ")]),t._v(" "),r("router-link",{staticClass:"cl-grader-button",attrs:{tag:"button",to:t.root+"/cl/console/grades/"+e.user.member.id}},[t._v("student grades\n              ")])],1),t._v(" "),null!==t.due?r("p",{staticClass:"cl-due"},[t._v("Assignment due "+t._s(t.time(t.due))+" ")]):t._e(),t._v(" "),t._l(t.graders,(function(e){return r("div",{class:"cl-grader-item"+(e.locked?" cl-grader-item-locked":""),attrs:{"data-tag":e.tag}},[r("h2",[r("span",{staticClass:"cl-grader-item-lock"},[r("a",{attrs:{title:"Lock/Unlock"},on:{click:function(r){return r.preventDefault(),t.lock(e)}}},[r("img",{attrs:{src:t.root+(e.locked?"/cl/img/lock-on.png":"/cl/img/lock-off.png"),alt:"Unlocked"}})])]),t._v("\n              "+t._s(e.name)),void 0!==e.teaming?r("a",{staticClass:"cl-extra-link",on:{click:function(r){return r.preventDefault(),t.teamDistribute(e)}}},[t._v("Team Distribute")]):t._e()]),t._v(" "),void 0!==e.rubric?[r("div",{staticClass:"cl-toggle"},[r("p",{staticClass:"cl-rubric-expand"},[r("a",[t._v("Expand for rubric")])]),t._v(" "),r("div",{staticClass:"cl-rubricblock cl-clickable"},[r("div",{domProps:{innerHTML:t._s(e.rubric)}})])])]:t._e(),t._v(" "),void 0!==e.manual?r("grade-manual",{attrs:{item:e}}):t._e(),t._v(" "),void 0!==e.html?r("div",{domProps:{innerHTML:t._s(e.html)}}):t._e(),t._v(" "),void 0!==e.handbook?r("handbook",{attrs:{item:e},on:{"handbook-data":t.handbookData}}):t._e(),t._v(" "),r("grade-history",{attrs:{history:e.history}})],2)})),t._v(" "),r("submissions",{attrs:{user:e.user,assigntag:t.assigntag}}),t._v(" "),null!==t.reviewing?r(t.reviewing,{tag:"component",attrs:{assigntag:t.assigntag,user:e.user}}):t._e(),t._v(" "),r("div",{staticClass:"grade"},[null!==t.grade?r("p",[t._v("Computed Grade: "+t._s(t.grade))]):[r("p",[t._v("Grade Not Available")]),t._v(" "),r("p",{staticClass:"center small notice"},[t._v("Grades are not available until all parts of the assignment have been\n                  graded.")])]],2)],2)]):t._e()]}}])})],1)])};ct._withStripped=!0;var dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cl-grade"},[r("div",{staticClass:"comment"},[r("label",[t._v("Comment "),r("a",{on:{click:function(e){return e.preventDefault(),t.compute()}}},[t._v("compute")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.manual.comment,expression:"item.manual.comment"}],staticClass:"comment",attrs:{rows:"6",name:t.item.tag+"-comment"},domProps:{value:t.item.manual.comment},on:{input:function(e){e.target.composing||t.$set(t.item.manual,"comment",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"points"},[r("label",[t._v("Points\n            "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.item.manual.points,expression:"item.manual.points"}],staticClass:"points",attrs:{type:"number",id:t.item.tag+"-points",name:t.item.tag+"-points"},domProps:{value:t.item.manual.points},on:{input:function(e){e.target.composing||t.$set(t.item.manual,"points",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"points"},[r("div",{staticClass:"label"},[t._v("Available")]),t._v(" "),r("div",{staticClass:"value"},[r("a",{attrs:{"data-id":t.item.tag+"-points",title:"Click to fill in points"},on:{click:function(e){return e.preventDefault(),t.fillInPoints()}}},[t._v(t._s(t.item.manual.available))])])])])};function ut(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}dt._withStripped=!0;const mt={props:["item"],mounted:function(){},methods:{fillInPoints:function(){this.item.manual.points=this.item.manual.available},compute:function(){var t,e=0,r=0,n=ut(this.item.manual.comment.split(/\r?\n/));try{for(n.s();!(t=n.n()).done;){var a=t.value.match(/^\s*([+-]?)([1-9][0-9]*)([^0-9]|$)/);null!==a&&("-"===a[1]?r-=+a[2]:e+=+a[2])}}catch(t){n.e(t)}finally{n.f()}this.item.manual.points=0!==r?0===e?this.item.manual.available+r:e+r:0===e?this.item.manual.available:e}}};var gt=(0,u.Z)(mt,dt,[],!1,null,null,null);gt.options.__file="vendor/cl/grades/js/Console/GradeManual.vue";const pt=gt.exports;function ft(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ht(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ht(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _t=Site.ConsoleComponentBase,bt=Site.PrevNextMemberVue;const yt={extends:_t,props:["assigntag","memberid"],data:function(){return{gradingLink:"/cl/console/grading/"+this.assigntag,assignment:null,graders:[],grade:null,due:null,handbookResult:null,reviewing:null}},components:{memberFetcher:Site.MemberFetcherComponentVue,prevNext:bt,gradeHistory:m,submissions:Site.SubmissionsAssignmentMemberComponentVue,handbook:b,gradeManual:pt},mounted:function(){var t=this;this.setTitle(": Grading"),this.addNav2("Submit",2,(function(){t.submit()})),this.addNav2("Submit and Exit",3,(function(){t.submit(!0)})),this.addNav2Link("Exit",4,"/cl/console/grading/"+this.assigntag)},methods:{fetched:function(t){var e=this;t.member.getSection(this.$store);this.assignment=t.member.getAssignment(this.$store,this.assigntag),this.setTitle(": "+t.name+" "+this.assignment.shortname+" Grading"),!0===this.assignment.review&&(this.reviewing=this.$site.console.Review.reviewsbyfor),this.$site.api.get("/api/grade/grader/".concat(this.assigntag,"/").concat(this.memberid),{}).then((function(t){t.hasError()?e.$site.toast(e,t):e.take(t)})).catch((function(t){e.$site.toast(e,t)}))},submit:function(t,e){var r=this,n=this.$refs.form,a=new FormData(n);null!==this.handbookResult&&a.append("_handbook",JSON.stringify(this.handbookResult)),this.$site.api.post("/api/grade/grader/".concat(this.assigntag,"/").concat(this.memberid),a).then((function(n){n.hasError()?r.$site.toast(r,n):(r.take(n),t&&r.$router.push(r.$site.root+"/cl/console/grading/"+r.assigntag),void 0!==e&&e())})).catch((function(t){r.$site.toast(r,t)}))},teamDistribute:function(t){var e=this;this.submit(!1,(function(){var r={teaming:t.teaming,gradeTag:t.tag};e.$site.api.post("/api/team/distribute/".concat(e.assigntag,"/").concat(e.memberid),r).then((function(t){t.hasError()&&e.$site.toast(e,t)})).catch((function(t){e.$site.toast(e,t)}))}))},take:function(t){for(var e=this,r=null,n=0;n<this.graders.length;n++)if(this.graders[n].locked){r=n;break}var a=t.getData("grader");this.due=void 0!==a.attributes.due?a.attributes.due:null;var i,s=ft(a.attributes.graders);try{for(s.s();!(i=s.n()).done;){i.value.locked=!1}}catch(t){s.e(t)}finally{s.f()}this.graders=a.attributes.graders,this.grade=a.attributes.grade,null!==r&&(this.graders[r].locked=!0),this.$forceUpdate(),this.$nextTick((function(){e.installRubricClickers(),e.$site.message("cl-grades-grader-installed")}))},lock:function(t){if(t.locked)t.locked=!1;else{var e,r=ft(this.graders);try{for(r.s();!(e=r.n()).done;){e.value.locked=!1}}catch(t){r.e(t)}finally{r.f()}t.locked=!0}},installRubricClickers:function(){for(var t=this,e=0,r=["div.cl-clickable li.item","div.cl-clickable ul.items li","div.cl-clickable p.item"];e<r.length;e++){var n,a=r[e],i=ft(document.querySelectorAll(a));try{var s=function(){var e=n.value;void 0===e.dataset.clickable&&(e.addEventListener("click",(function(){t.addContent(e)})),e.setAttribute("data-clickable","yes"))};for(i.s();!(n=i.n()).done;)s()}catch(t){i.e(t)}finally{i.f()}}},addContent:function(t){var e=t.textContent;for(t=t.parentNode;null!==t&&!t.classList.contains("cl-grader-item");)t=t.parentNode;if(null!==t){var r,n=t.dataset.tag,a=ft(this.graders);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.tag===n){void 0!==i.manual&&(i.manual.comment.length>0&&null===i.manual.comment.match(/\n$/)&&(i.manual.comment+="\n"),i.manual.comment+=e);break}}}catch(t){a.e(t)}finally{a.f()}var s,o=ft(t.querySelectorAll("textarea"));try{for(o.s();!(s=o.n()).done;){var l=s.value;l.value=l.value+e+"\n"}}catch(t){o.e(t)}finally{o.f()}}},time:function(t){return this.$site.TimeFormatter.absoluteUNIX(t,"short")},email:function(t){window.location="mailto:"+t.email},handbookData:function(t){this.handbookResult=t}}};var kt=(0,u.Z)(yt,ct,[],!1,null,null,null);kt.options.__file="vendor/cl/grades/js/Console/GradingAssignmentMember.vue";const Ct=kt.exports;var wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"full"},[r("members-fetcher",{scopedSlots:t._u([{key:"default",fn:function(e){return[r("table",{staticClass:"small"},[r("tr",[r("th",[t._v("User")]),t._v(" "),r("th",[t._v("Name")]),t._v(" "),r("th",[t._v("Role")])]),t._v(" "),t._l(e.users,(function(e){return r("tr",{class:"T"!==e.role()?"ignore":""},[r("td",[r("router-link",{attrs:{to:t.root+"/cl/console/grades/"+e.member.id}},[t._v(t._s(e.userId))])],1),t._v(" "),r("td",[r("router-link",{attrs:{to:t.root+"/cl/console/grades/"+e.member.id}},[t._v(t._s(e.name))])],1),t._v(" "),r("td",[t._v(t._s(e.roleName()))])])}))],2)]}}])})],1)])};wt._withStripped=!0;var xt=Site.MembersFetcherComponentVue;const St={extends:Site.ConsoleComponentBase,data:function(){return{grades:null,parts:[]}},components:{membersFetcher:xt},mounted:function(){this.$parent.setTitle(": Grades")}};var At=(0,u.Z)(St,wt,[],!1,null,null,null);At.options.__file="vendor/cl/grades/js/Console/GradesLinks.vue";const $t=At.exports;var jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"full"},[r("members-fetcher",{scopedSlots:t._u([{key:"default",fn:function(e){return[r("table",{staticClass:"small"},[r("tr",{staticClass:"vertical"},[r("th",[t._v("User")]),t._v(" "),r("th",[t._v("Name")]),t._v(" "),r("th",[t._v("Role")]),t._v(" "),t._l(t.section.assignments.categories,(function(e){return[t._l(e.assignments,(function(e){return[r("th",[r("div",{staticClass:"small"},[t._v(t._s(e.shortname))])])]})),t._v(" "),r("th",[r("div",{staticClass:"small category"},[t._v(t._s(e.name))])])]}))],2),t._v(" "),t._l(e.users,(function(e){return r("tr",{class:"T"!==e.role()?"ignore":""},[r("td",[r("router-link",{attrs:{to:t.root+"/cl/console/grades/"+e.member.id}},[t._v(t._s(e.userId))])],1),t._v(" "),r("td",[r("router-link",{attrs:{to:t.root+"/cl/console/grades/"+e.member.id}},[t._v(t._s(e.name))])],1),t._v(" "),r("td",[t._v(t._s(e.roleName()))]),t._v(" "),t._l(t.section.assignments.categories,(function(n){return[t._l(n.assignments,(function(a){return[r("td",[t._v(t._s(t.assignmentGrade(e,n,a)))])]})),t._v(" "),r("td",[t._v(t._s(t.categoryGrade(e,n)))])]}))],2)}))],2)]}}])})],1)])};function Mt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}jt._withStripped=!0;var It=Site.MembersFetcherComponentVue;const Et={extends:Site.ConsoleComponentBase,data:function(){return{section:null,grades:null}},components:{membersFetcher:It},created:function(){var t=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](t.semester,t.section)},mounted:function(){var t=this;this.$parent.setTitle(": Grades"),this.$site.api.get("/api/grade/all",{}).then((function(e){e.hasError()?t.$site.toast(t,e):t.grades=e.getData("grades-all").attributes})).catch((function(e){t.$site.toast(t,e)}))},methods:{assignmentGrade:function(t,e,r){if(null===this.grades)return"?";var n,a=Mt(this.grades[t.member.id].categories[e.tag].assignments);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.tag===r.tag)return i.grade}}catch(t){a.e(t)}finally{a.f()}return""},categoryGrade:function(t,e){if(null===this.grades)return"?";var r=this.grades[t.member.id].categories[e.tag];return r.grade}}};var Gt=r(42225),Nt={insert:"head",singleton:!1};l()(Gt.Z,Nt);Gt.Z.locals;var Lt=(0,u.Z)(Et,jt,[],!1,null,"5cf9cddd",null);Lt.options.__file="vendor/cl/grades/js/Console/GradesAll.vue";const Pt=Lt.exports;var Zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content cl-grader"},[r("div",{staticClass:"full"},[r("member-fetcher",{attrs:{id:t.memberid,faillink:t.root+"/cl/console/grades/links"},on:{fetched:t.fetched},scopedSlots:t._u([{key:"default",fn:function(e){return[r("prev-next",{attrs:{user:e.user}}),t._v(" "),null!==e.user&&null!==t.grade?r("div",[r("table",[r("tr",[r("th",[t._v("Assignment")]),r("th",[t._v(" ")]),r("th",[t._v("Grade")]),r("th",[t._v(" ")]),r("th",[t._v("Grade")])]),t._v(" "),t._l(t.grade.categories,(function(n){return[r("tr",{staticClass:"cl-category"},[r("td",{attrs:{colspan:"3"}},[t._v(t._s(n.name))]),r("td",[t._v(t._s(n.points)+"%")]),r("td",[t._v(t._s(n.grade))])]),t._v(" "),t._l(n.assignments,(function(n){return r("tr",{key:n.tag,staticClass:"cl-assignment"},[r("td",[r("router-link",{attrs:{to:t.root+"/cl/console/grading/"+n.tag+"/"+e.user.member.id}},[t._v(t._s(n.name))])],1),r("td",[t._v(t._s(Math.round(10*n.points)/10)+"%")]),r("td",[t._v(t._s(n.grade))]),r("td",{attrs:{colspan:"2"}},[t._v(" ")])])}))]}))],2),t._v(" "),r("p",{staticClass:"center"},[t._v("Click on each assignment for more grading detail")]),t._v(" "),r("p",{staticClass:"center"},[t._v("Computed Grade: "+t._s(t.grade.grade)+" out of "+t._s(t.grade.available)+" available points"+t._s(t.per))])]):t._e()]}}])})],1)])};Zt._withStripped=!0;var Dt=Site.PrevNextMemberVue,Ot=Site.MemberFetcherComponentVue;const Ut={extends:Site.ConsoleComponentBase,props:["memberid"],data:function(){return{course:this.$store.state.course.course,section:null,grade:null,per:""}},components:{memberFetcher:Ot,prevNext:Dt},mounted:function(){this.setTitle(": Grade")},methods:{fetched:function(t){var e=this;this.section=t.member.getSection(this.$store),this.setTitle(": "+t.name+" Grades"),this.$site.api.get("/api/grade/grade/".concat(this.memberid),{}).then((function(t){t.hasError()?e.$site.toast(e,t):(e.grade=t.getData("grade").attributes,e.grade.available>0&&(e.per="("+(e.grade.grade/e.grade.available*100).toFixed(1)+"%)"))})).catch((function(t){e.$site.toast(e,t)}))}}};var Rt=(0,u.Z)(Ut,Zt,[],!1,null,null,null);Rt.options.__file="vendor/cl/grades/js/Console/GradesMember.vue";const Ft=Rt.exports;var zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content cl-grader"},[t._m(0),t._v(" "),t._l(t.rubrics,(function(e){return r("div",{staticClass:"cl-rubric"},[r("rubric-editor",{attrs:{assigntag:t.assigntag,rubric:e}})],1)}))],2)};zt._withStripped=!0;var Ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v(t._s(t.rubric.name))]),t._v(" "),r("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit()}}},[r("div",{staticClass:"cl-rubricblock cl-show",domProps:{innerHTML:t._s(t.rubric.show)}}),t._v(" "),r("div",{ref:"editor"}),t._v(" "),r("button",{attrs:{type:"submit"}},[t._v("Submit")])])])};Ht._withStripped=!0;const Bt={props:["assigntag","rubric"],mounted:function(){var t=this,e=this.$refs.editor;this.editor=new this.$site.Editor(e,{value:this.rubric.rubric,tab:!0,autoIndent:!0}),this.editor.textarea.addEventListener("keydown",(function(){t.changed()}))},methods:{changed:function(){var t=this;null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){t.timer=null,t.rubric.show=t.$site.Sanitize.sanitize(t.editor.textarea.value)}),100)},submit:function(){var t=this;this.$site.api.post("/api/grade/rubrics/"+this.assigntag+"/"+this.rubric.tag,{rubric:this.rubric.show}).then((function(e){e.hasError()?t.$site.toast(t,e):t.$site.toast(t,"Rubric successfully saved")})).catch((function(e){t.$site.toast(t,e)}))}}};var Vt=(0,u.Z)(Bt,Ht,[],!1,null,null,null);Vt.options.__file="vendor/cl/grades/js/Console/RubricEditor.vue";const Jt=Vt.exports;function Wt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xt=Site.ConsoleComponentBase,Kt=Site.Member;const Qt={extends:Xt,props:["assigntag"],data:function(){return{ta:Kt.TA,rubrics:[]}},components:{rubricEditor:Jt},created:function(){var t=this;this.$parent.setTitle(": Assignment Grading"),this.timer=null;var e=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.$parent.setTitle(": "+this.assignment.shortname+" Rubrics"),this.$site.api.get("/api/grade/rubrics/"+this.assignment.tag,{}).then((function(e){if(e.hasError())t.$site.toast(t,e);else{t.rubrics=e.getData("rubrics").attributes;var r,n=Wt(t.rubrics);try{for(n.s();!(r=n.n()).done;){var a=r.value;t.$set(a,"show",a.rubric)}}catch(t){n.e(t)}finally{n.f()}}})).catch((function(e){t.$site.toast(t,e)}))}};var qt=(0,u.Z)(Qt,zt,[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cl-toggle"},[r("p",[r("a",[t._v("Expand for instructions on creating rubrics.")])]),t._v(" "),r("div",{staticClass:"cl-toggleblock"},[r("p",[t._v("Rubrics are entered as HTML. A common format is to\n        create lists using <ul> and <li> tags.")]),t._v(" "),r("p",[t._v("Contents of an <li> or <p> tag can be make\n        clickable so they automatically appear in the comment\n        window by adding the class 'item'. All <li> children\n        of a <ul> can be made clickable by adding the\n        class 'items':")]),t._v(" "),r("pre",{staticClass:"code"},[t._v('<ul>\n   <li class="item">This item will be clickable</li>\n   <li>This item will not be clickable</li>\n</ul>\n\n<p class="item">And this will be clickable</p>\n\n<ul class="items">\n   <li>All of these items will be clickable</li>\n   <li>This one, too!</li>\n</ul>\n      ')])])])}],!1,null,null,null);qt.options.__file="vendor/cl/grades/js/Console/RubricsEditor.vue";const te=qt.exports;var ee=Site.Member,re=function(){};re.install=function(t){t.components.addOption({atLeast:ee.GRADER,page:{atLeast:ee.GRADER,title:"Grading",route:"/grading",order:4,component:P}}),t.components.addRoutes([{route:"/grading/:assigntag",component:lt,props:!0},{route:"/grading/:assigntag/:memberid",component:Ct,props:!0},{route:"/rubric/:assigntag",component:te,props:!0},{route:"/grades/links",component:$t},{route:"/grades/all",component:Pt},{route:"/grades/:memberid",component:Ft,props:!0}]),t.tables.add({title:"Grades",order:40,api:"/api/grade/tables"})};var ne=r(49712),ae={insert:"head",singleton:!1};l()(ne.Z,ae);ne.Z.locals;I.create(Site.Site);void 0!==Site.Site.console&&re.install(Site.Site.console)},49712:(t,e,r)=>{r.d(e,{Z:()=>d});var n=r(76433),a=r.n(n),i=r(31610),s=r.n(i),o=r(76752),l=a()((function(t){return t[1]})),c=s()(o.Z);l.push([t.id,"div.cl-grader div.cl-rubric div.cl-show,div.cl-grader table.cl-handbook div.comment,div.cl-grader div.cl-grade div.comment div.comment,div.cl-grader div.grader div.comment div.comment{-moz-box-shadow:3px 3px 8px #ccc;-webkit-box-shadow:3px 3px 8px #ccc;box-shadow:3px 3px 8px #ccc}div.cl-grades td.role{white-space:nowrap}div.cl-grader form{position:relative}div.cl-grader div.cl-grader-item{position:relative;background:#fff;padding-bottom:.25em}div.cl-grader div.cl-grader-item h2{margin-top:-0.25em}div.cl-grader div.cl-grader-item-locked{position:-webkit-sticky;position:sticky;top:50px;z-index:100;background:#f8fff8}div.cl-grader a.link-button{display:inline-block;font-size:.85em;padding:0 2px}div.cl-grader p.cl-title{text-align:center;font-size:1.1em;font-weight:bold;margin:1em 0 0 0}div.cl-grader p.cl-dispute{text-align:center;margin:0}div.cl-grader p.cl-role{text-align:center}div.cl-grader p.cl-role-staff{color:#c41425}div.cl-grader p.cl-due{text-align:center;font-style:italic;font-weight:normal;color:#c41425}div.cl-grader button.cl-grader-button{font-style:italic;font-size:.9em;color:#000}div.cl-grader a.cl-extra-link{display:block;float:right;font-size:.5em;padding-top:1em}div.cl-grader tr.cl-category td{text-align:right}div.cl-grader tr.cl-category td:first-child{text-align:left}div.cl-grader tr.cl-assignment td{text-align:right}div.cl-grader tr.cl-assignment td:first-child{text-align:left;padding-left:3em}div.cl-grader div.cl-grade,div.cl-grader div.grader{display:flex;flex-direction:row;align-items:flex-start}div.cl-grader div.cl-grade label,div.cl-grader div.cl-grade div.label,div.cl-grader div.grader label,div.cl-grader div.grader div.label{font-style:italic}div.cl-grader div.cl-grade label a,div.cl-grader div.cl-grade div.label a,div.cl-grader div.grader label a,div.cl-grader div.grader div.label a{font-size:.85em;text-decoration:none;padding-left:1em}div.cl-grader div.cl-grade div.comment,div.cl-grader div.grader div.comment{flex:1 1 auto;padding:0 20px 0 0}div.cl-grader div.cl-grade div.comment textarea,div.cl-grader div.grader div.comment textarea{display:block;width:100%}div.cl-grader div.cl-grade div.comment div.comment,div.cl-grader div.grader div.comment div.comment{white-space:pre-wrap;background:#f0f0f0;font-style:normal;border:1px solid #a9a9a9;height:120px;overflow:auto;padding:2px}div.cl-grader div.cl-grade div.points,div.cl-grader div.grader div.points{flex:0 0 auto;width:5em;text-align:center;padding:45px 5px 0 0}div.cl-grader div.cl-grade div.points input,div.cl-grader div.cl-grade div.points div.value,div.cl-grader div.grader div.points input,div.cl-grader div.grader div.points div.value{display:block;width:100%;text-align:center;font-style:normal;font-weight:bold}div.cl-grader div.cl-grade div.points span.not,div.cl-grader div.grader div.points span.not{font-size:.8em;font-style:italic}div.cl-grader div.cl-grade div.value,div.cl-grader div.grader div.value{padding:2px 1px}div.cl-grader div.cl-grade div.value a,div.cl-grader div.grader div.value a{text-decoration:none;color:#000}div.cl-grader table.cl-handbook{width:90%}div.cl-grader table.cl-handbook td:last-child,div.cl-grader table.cl-handbook th:last-child{width:1px;white-space:nowrap}div.cl-grader table.cl-handbook input[type=radio]{display:inline-block;padding:0 2px;margin:0 2px}div.cl-grader table.cl-handbook input[type=text]{width:100%}div.cl-grader table.cl-handbook textarea{width:100%}div.cl-grader table.cl-handbook td.cl-deduct{text-align:center;font-size:1.5em}div.cl-grader table.cl-handbook div.comment{white-space:pre;background:#f0f0f0;font-style:normal;border:1px solid #a9a9a9;height:80px;overflow:auto;padding:2px;margin:.3em 0}div.cl-grader p.cl-rubric-expand{margin-bottom:.1em}div.cl-grader div.cl-rubricblock{background:#e8f7f3;padding:5px;border:1px gray solid;word-wrap:normal;font-size:.9em}div.cl-grader div.cl-rubricblock p:first-child,div.cl-grader div.cl-rubricblock ul:first-child{margin-top:0}div.cl-grader div.cl-rubricblock p:last-child,div.cl-grader div.cl-rubricblock ul:last-child{margin-bottom:0}div.cl-grader div.cl-rubricblock li.item,div.cl-grader div.cl-rubricblock p.item,div.cl-grader div.cl-rubricblock ul.items li{color:#900000;cursor:pointer}div.cl-grader div.cl-rubricblock li.item:hover,div.cl-grader div.cl-rubricblock p.item:hover,div.cl-grader div.cl-rubricblock ul.items li:hover{color:#c00000}div.cl-grader textarea{background:#f0f0f0;font-style:normal}div.cl-grader textarea.yellow-pad{background:url("+c+")}div.cl-grader div.grade{border-top:1px solid #000}div.cl-grader div.grade p:first-child{text-align:center;font-size:1.2em}div.cl-grader div.cl-rubric div.cl-show{margin:1em 0;word-wrap:normal;min-height:8em}div.cl-grader div.cl-rubric textarea{font-size:.9em;margin:1em 0;background:#f0f0f0;font-style:normal;width:100%;min-height:8em}",""]);const d=l},26956:(t,e,r)=>{r.d(e,{Z:()=>i});var n=r(76433),a=r.n(n)()((function(t){return t[1]}));a.push([t.id,"div.cl-bulk-upload form{margin-bottom:1em}div.cl-bulk-upload fieldset>div{display:flex;flex-direction:row;flex-wrap:nowrap}div.cl-bulk-upload fieldset>div>div{padding-right:1em}div.cl-bulk-upload fieldset>div>div p{margin:0 0 .5em 0}div.cl-bulk-upload fieldset>div>div p:last-child{margin:0}div.cl-bulk-upload fieldset>div>div p:last-child input{width:6.5em}div.cl-bulk-upload-dlg{width:400px}",""]);const i=a},42225:(t,e,r)=>{r.d(e,{Z:()=>i});var n=r(76433),a=r.n(n)()((function(t){return t[1]}));a.push([t.id,"td[data-v-5cf9cddd]{min-width:30px}div.category[data-v-5cf9cddd]{color:#fcaf17}",""]);const i=a},86886:(t,e,r)=>{r.d(e,{Z:()=>i});var n=r(76433),a=r.n(n)()((function(t){return t[1]}));a.push([t.id,"div#cl-column-chooser-component[data-v-56b05980]{padding:1em}div#cl-column-chooser-component p[data-v-56b05980]{text-align:left}div#cl-column-chooser-component div.cl-parts[data-v-56b05980]{display:table;margin:auto}div#cl-column-chooser-component div.cl-parts>div[data-v-56b05980]{display:table-row}div#cl-column-chooser-component div.cl-parts>div>div[data-v-56b05980]:first-child{padding-right:1em;text-align:right}div#cl-column-chooser-component div.cl-parts>div>div[data-v-56b05980]{display:table-cell;height:2em}div#cl-column-chooser-component div.cl-parts div.cl-comment[data-v-56b05980]{font-style:italic;font-size:.85em}",""]);const i=a},21871:(t,e,r)=>{r.d(e,{Z:()=>i});var n=r(76433),a=r.n(n)()((function(t){return t[1]}));a.push([t.id,"div.cl-grade-history[data-v-177faa53]{max-width:600px;margin:1em 0}p[data-v-177faa53]{font-style:italic;font-size:.85em}p.expander[data-v-177faa53]{margin-bottom:0}div.grades[data-v-177faa53]{padding:2px 0 2px 18px;background-color:#dfd}div.grades p[data-v-177faa53]{margin:0;padding:2px 0 0 0}",""]);const i=a},76752:(t,e,r)=>{r.d(e,{Z:()=>n});const n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAgCAIAAACtjN7AAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAHlJREFUOI3t0rENg0AUA1D7n+EqKpQZMkFmZDtKNkiTHiECucsKbhBC4tdPLvzNbR7gHHNYDgBwDBVQPVlVIDNUisWjRevWOZDMGt8vh0YkPR+TQytb9d3HoQVZ+954qY1o93r6Bm6qiK8nea29/uhQkGJNFkU6/Vt/PUghIGwDWDIAAAAASUVORK5CYII="}},r={};function n(t){var a=r[t];if(void 0!==a)return a.exports;var i=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,t=[],n.O=(e,r,a,i)=>{if(!r){var s=1/0;for(c=0;c<t.length;c++){for(var[r,a,i]=t[c],o=!0,l=0;l<r.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((t=>n.O[t](r[l])))?r.splice(l--,1):(o=!1,i<s&&(s=i));o&&(t.splice(c--,1),e=a())}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[r,a,i]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.j=514,(()=>{var t={514:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var a,i,[s,o,l]=r,c=0;for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)var d=l(n);for(e&&e(r);c<s.length;c++)i=s[c],n.o(t,i)&&t[i]&&t[i][0](),t[s[c]]=0;return n.O(d)},r=self.webpackChunkcourselib=self.webpackChunkcourselib||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var a=n.O(void 0,[736],(()=>n(98477)));a=n.O(a)})();